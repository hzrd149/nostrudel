import{o as y,gn as Xr,r as b,j as S,eW as Ge,go as fs,gp as V,af as pi,gq as ds,eV as jn,F as $e,H as ps,Y as gs,gr as hs,gs as vs,aB as ms,Z as ys,y as _s,E as Fe,t as Bn,fb as bs,k as Ts,i as Os,I as Ss,R as Ds,ae as $s,e as Es,f as ws,gt as Un,cb as Cs,ac as Is,g8 as fr,aW as Ps,dt as Ms}from"./index-C6wlVu-O.js";import{e as xs}from"./index-0cR9FdqN.js";import{u as As}from"./use-parsed-streams-DfYuZOzw.js";import{u as Jr,Z as Ns,S as Rs,C as Ls}from"./chat-log-CLBRTBIF.js";import js from"./live-video-player-CaE8qRC3.js";import"./chat-message-content-DH1ZcJIv.js";import"./hls-Bon9X3-D.js";var Ar={},Ee={},Bs=typeof y=="object"&&y&&y.Object===Object&&y,gi=Bs,Us=gi,Hs=typeof self=="object"&&self&&self.Object===Object&&self,Fs=Us||Hs||Function("return this")(),J=Fs,ks=J,Ws=ks.Symbol,Ce=Ws,Hn=Ce,hi=Object.prototype,Gs=hi.hasOwnProperty,qs=hi.toString,je=Hn?Hn.toStringTag:void 0;function zs(e){var t=Gs.call(e,je),r=e[je];try{e[je]=void 0;var n=!0}catch{}var a=qs.call(e);return n&&(t?e[je]=r:delete e[je]),a}var Ks=zs,Ys=Object.prototype,Zs=Ys.toString;function Vs(e){return Zs.call(e)}var Xs=Vs,Fn=Ce,Js=Ks,Qs=Xs,eu="[object Null]",tu="[object Undefined]",kn=Fn?Fn.toStringTag:void 0;function ru(e){return e==null?e===void 0?tu:eu:kn&&kn in Object(e)?Js(e):Qs(e)}var Ke=ru;function nu(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Q=nu,au=Ke,iu=Q,ou="[object AsyncFunction]",su="[object Function]",uu="[object GeneratorFunction]",cu="[object Proxy]";function lu(e){if(!iu(e))return!1;var t=au(e);return t==su||t==uu||t==ou||t==cu}var vi=lu,fu=J,du=fu["__core-js_shared__"],pu=du,dr=pu,Wn=function(){var e=/[^.]+$/.exec(dr&&dr.keys&&dr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gu(e){return!!Wn&&Wn in e}var hu=gu,vu=Function.prototype,mu=vu.toString;function yu(e){if(e!=null){try{return mu.call(e)}catch{}try{return e+""}catch{}}return""}var mi=yu,_u=vi,bu=hu,Tu=Q,Ou=mi,Su=/[\\^$.*+?()[\]{}|]/g,Du=/^\[object .+?Constructor\]$/,$u=Function.prototype,Eu=Object.prototype,wu=$u.toString,Cu=Eu.hasOwnProperty,Iu=RegExp("^"+wu.call(Cu).replace(Su,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pu(e){if(!Tu(e)||bu(e))return!1;var t=_u(e)?Iu:Du;return t.test(Ou(e))}var Mu=Pu;function xu(e,t){return e==null?void 0:e[t]}var Au=xu,Nu=Mu,Ru=Au;function Lu(e,t){var r=Ru(e,t);return Nu(r)?r:void 0}var ve=Lu,ju=ve,Bu=function(){try{var e=ju(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yi=Bu,Gn=yi;function Uu(e,t,r){t=="__proto__"&&Gn?Gn(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Qr=Uu;function Hu(e,t,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;){var o=e[a];t(n,o,r(o),e)}return n}var Fu=Hu;function ku(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++a];if(r(i[u],u,i)===!1)break}return t}}var Wu=ku,Gu=Wu,qu=Gu(),zu=qu;function Ku(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Yu=Ku;function Zu(e){return e!=null&&typeof e=="object"}var me=Zu,Vu=Ke,Xu=me,Ju="[object Arguments]";function Qu(e){return Xu(e)&&Vu(e)==Ju}var ec=Qu,qn=ec,tc=me,_i=Object.prototype,rc=_i.hasOwnProperty,nc=_i.propertyIsEnumerable,ac=qn(function(){return arguments}())?qn:function(e){return tc(e)&&rc.call(e,"callee")&&!nc.call(e,"callee")},xt=ac,ic=Array.isArray,X=ic,Ot={exports:{}};function oc(){return!1}var sc=oc;Ot.exports;(function(e,t){var r=J,n=sc,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||n;e.exports=c})(Ot,Ot.exports);var At=Ot.exports,uc=9007199254740991,cc=/^(?:0|[1-9]\d*)$/;function lc(e,t){var r=typeof e;return t=t??uc,!!t&&(r=="number"||r!="symbol"&&cc.test(e))&&e>-1&&e%1==0&&e<t}var en=lc,fc=9007199254740991;function dc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fc}var tn=dc,pc=Ke,gc=tn,hc=me,vc="[object Arguments]",mc="[object Array]",yc="[object Boolean]",_c="[object Date]",bc="[object Error]",Tc="[object Function]",Oc="[object Map]",Sc="[object Number]",Dc="[object Object]",$c="[object RegExp]",Ec="[object Set]",wc="[object String]",Cc="[object WeakMap]",Ic="[object ArrayBuffer]",Pc="[object DataView]",Mc="[object Float32Array]",xc="[object Float64Array]",Ac="[object Int8Array]",Nc="[object Int16Array]",Rc="[object Int32Array]",Lc="[object Uint8Array]",jc="[object Uint8ClampedArray]",Bc="[object Uint16Array]",Uc="[object Uint32Array]",x={};x[Mc]=x[xc]=x[Ac]=x[Nc]=x[Rc]=x[Lc]=x[jc]=x[Bc]=x[Uc]=!0;x[vc]=x[mc]=x[Ic]=x[yc]=x[Pc]=x[_c]=x[bc]=x[Tc]=x[Oc]=x[Sc]=x[Dc]=x[$c]=x[Ec]=x[wc]=x[Cc]=!1;function Hc(e){return hc(e)&&gc(e.length)&&!!x[pc(e)]}var Fc=Hc;function kc(e){return function(t){return e(t)}}var rn=kc,St={exports:{}};St.exports;(function(e,t){var r=gi,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(St,St.exports);var nn=St.exports,Wc=Fc,Gc=rn,zn=nn,Kn=zn&&zn.isTypedArray,qc=Kn?Gc(Kn):Wc,an=qc,zc=Yu,Kc=xt,Yc=X,Zc=At,Vc=en,Xc=an,Jc=Object.prototype,Qc=Jc.hasOwnProperty;function el(e,t){var r=Yc(e),n=!r&&Kc(e),a=!r&&!n&&Zc(e),i=!r&&!n&&!a&&Xc(e),o=r||n||a||i,s=o?zc(e.length,String):[],u=s.length;for(var c in e)(t||Qc.call(e,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Vc(c,u)))&&s.push(c);return s}var bi=el,tl=Object.prototype;function rl(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||tl;return e===r}var Nt=rl;function nl(e,t){return function(r){return e(t(r))}}var Ti=nl,al=Ti,il=al(Object.keys,Object),ol=il,sl=Nt,ul=ol,cl=Object.prototype,ll=cl.hasOwnProperty;function fl(e){if(!sl(e))return ul(e);var t=[];for(var r in Object(e))ll.call(e,r)&&r!="constructor"&&t.push(r);return t}var Oi=fl,dl=vi,pl=tn;function gl(e){return e!=null&&pl(e.length)&&!dl(e)}var Rt=gl,hl=bi,vl=Oi,ml=Rt;function yl(e){return ml(e)?hl(e):vl(e)}var ye=yl,_l=zu,bl=ye;function Tl(e,t){return e&&_l(e,t,bl)}var Ol=Tl,Sl=Rt;function Dl(e,t){return function(r,n){if(r==null)return r;if(!Sl(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var $l=Dl,El=Ol,wl=$l,Cl=wl(El),Il=Cl,Pl=Il;function Ml(e,t,r,n){return Pl(e,function(a,i,o){t(n,a,r(a),o)}),n}var xl=Ml;function Al(){this.__data__=[],this.size=0}var Nl=Al;function Rl(e,t){return e===t||e!==e&&t!==t}var on=Rl,Ll=on;function jl(e,t){for(var r=e.length;r--;)if(Ll(e[r][0],t))return r;return-1}var Lt=jl,Bl=Lt,Ul=Array.prototype,Hl=Ul.splice;function Fl(e){var t=this.__data__,r=Bl(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Hl.call(t,r,1),--this.size,!0}var kl=Fl,Wl=Lt;function Gl(e){var t=this.__data__,r=Wl(t,e);return r<0?void 0:t[r][1]}var ql=Gl,zl=Lt;function Kl(e){return zl(this.__data__,e)>-1}var Yl=Kl,Zl=Lt;function Vl(e,t){var r=this.__data__,n=Zl(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Xl=Vl,Jl=Nl,Ql=kl,ef=ql,tf=Yl,rf=Xl;function Ie(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ie.prototype.clear=Jl;Ie.prototype.delete=Ql;Ie.prototype.get=ef;Ie.prototype.has=tf;Ie.prototype.set=rf;var jt=Ie,nf=jt;function af(){this.__data__=new nf,this.size=0}var of=af;function sf(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var uf=sf;function cf(e){return this.__data__.get(e)}var lf=cf;function ff(e){return this.__data__.has(e)}var df=ff,pf=ve,gf=J,hf=pf(gf,"Map"),sn=hf,vf=ve,mf=vf(Object,"create"),Bt=mf,Yn=Bt;function yf(){this.__data__=Yn?Yn(null):{},this.size=0}var _f=yf;function bf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Tf=bf,Of=Bt,Sf="__lodash_hash_undefined__",Df=Object.prototype,$f=Df.hasOwnProperty;function Ef(e){var t=this.__data__;if(Of){var r=t[e];return r===Sf?void 0:r}return $f.call(t,e)?t[e]:void 0}var wf=Ef,Cf=Bt,If=Object.prototype,Pf=If.hasOwnProperty;function Mf(e){var t=this.__data__;return Cf?t[e]!==void 0:Pf.call(t,e)}var xf=Mf,Af=Bt,Nf="__lodash_hash_undefined__";function Rf(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Af&&t===void 0?Nf:t,this}var Lf=Rf,jf=_f,Bf=Tf,Uf=wf,Hf=xf,Ff=Lf;function Pe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pe.prototype.clear=jf;Pe.prototype.delete=Bf;Pe.prototype.get=Uf;Pe.prototype.has=Hf;Pe.prototype.set=Ff;var kf=Pe,Zn=kf,Wf=jt,Gf=sn;function qf(){this.size=0,this.__data__={hash:new Zn,map:new(Gf||Wf),string:new Zn}}var zf=qf;function Kf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Yf=Kf,Zf=Yf;function Vf(e,t){var r=e.__data__;return Zf(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ut=Vf,Xf=Ut;function Jf(e){var t=Xf(this,e).delete(e);return this.size-=t?1:0,t}var Qf=Jf,ed=Ut;function td(e){return ed(this,e).get(e)}var rd=td,nd=Ut;function ad(e){return nd(this,e).has(e)}var id=ad,od=Ut;function sd(e,t){var r=od(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ud=sd,cd=zf,ld=Qf,fd=rd,dd=id,pd=ud;function Me(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Me.prototype.clear=cd;Me.prototype.delete=ld;Me.prototype.get=fd;Me.prototype.has=dd;Me.prototype.set=pd;var un=Me,gd=jt,hd=sn,vd=un,md=200;function yd(e,t){var r=this.__data__;if(r instanceof gd){var n=r.__data__;if(!hd||n.length<md-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new vd(n)}return r.set(e,t),this.size=r.size,this}var _d=yd,bd=jt,Td=of,Od=uf,Sd=lf,Dd=df,$d=_d;function xe(e){var t=this.__data__=new bd(e);this.size=t.size}xe.prototype.clear=Td;xe.prototype.delete=Od;xe.prototype.get=Sd;xe.prototype.has=Dd;xe.prototype.set=$d;var cn=xe,Ed="__lodash_hash_undefined__";function wd(e){return this.__data__.set(e,Ed),this}var Cd=wd;function Id(e){return this.__data__.has(e)}var Pd=Id,Md=un,xd=Cd,Ad=Pd;function Dt(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Md;++t<r;)this.add(e[t])}Dt.prototype.add=Dt.prototype.push=xd;Dt.prototype.has=Ad;var Nd=Dt;function Rd(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ld=Rd;function jd(e,t){return e.has(t)}var Bd=jd,Ud=Nd,Hd=Ld,Fd=Bd,kd=1,Wd=2;function Gd(e,t,r,n,a,i){var o=r&kd,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var f=-1,d=!0,g=r&Wd?new Ud:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var p=e[f],h=t[f];if(n)var _=o?n(h,p,f,t,e,i):n(p,h,f,e,t,i);if(_!==void 0){if(_)continue;d=!1;break}if(g){if(!Hd(t,function(T,E){if(!Fd(g,E)&&(p===T||a(p,T,r,n,i)))return g.push(E)})){d=!1;break}}else if(!(p===h||a(p,h,r,n,i))){d=!1;break}}return i.delete(e),i.delete(t),d}var Si=Gd,qd=J,zd=qd.Uint8Array,Di=zd;function Kd(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Yd=Kd;function Zd(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Vd=Zd,Vn=Ce,Xn=Di,Xd=on,Jd=Si,Qd=Yd,ep=Vd,tp=1,rp=2,np="[object Boolean]",ap="[object Date]",ip="[object Error]",op="[object Map]",sp="[object Number]",up="[object RegExp]",cp="[object Set]",lp="[object String]",fp="[object Symbol]",dp="[object ArrayBuffer]",pp="[object DataView]",Jn=Vn?Vn.prototype:void 0,pr=Jn?Jn.valueOf:void 0;function gp(e,t,r,n,a,i,o){switch(r){case pp:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dp:return!(e.byteLength!=t.byteLength||!i(new Xn(e),new Xn(t)));case np:case ap:case sp:return Xd(+e,+t);case ip:return e.name==t.name&&e.message==t.message;case up:case lp:return e==t+"";case op:var s=Qd;case cp:var u=n&tp;if(s||(s=ep),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=rp,o.set(e,t);var l=Jd(s(e),s(t),n,a,i,o);return o.delete(e),l;case fp:if(pr)return pr.call(e)==pr.call(t)}return!1}var hp=gp;function vp(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var ln=vp,mp=ln,yp=X;function _p(e,t,r){var n=t(e);return yp(e)?n:mp(n,r(e))}var $i=_p;function bp(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Tp=bp;function Op(){return[]}var Ei=Op,Sp=Tp,Dp=Ei,$p=Object.prototype,Ep=$p.propertyIsEnumerable,Qn=Object.getOwnPropertySymbols,wp=Qn?function(e){return e==null?[]:(e=Object(e),Sp(Qn(e),function(t){return Ep.call(e,t)}))}:Dp,fn=wp,Cp=$i,Ip=fn,Pp=ye;function Mp(e){return Cp(e,Pp,Ip)}var wi=Mp,ea=wi,xp=1,Ap=Object.prototype,Np=Ap.hasOwnProperty;function Rp(e,t,r,n,a,i){var o=r&xp,s=ea(e),u=s.length,c=ea(t),l=c.length;if(u!=l&&!o)return!1;for(var f=u;f--;){var d=s[f];if(!(o?d in t:Np.call(t,d)))return!1}var g=i.get(e),p=i.get(t);if(g&&p)return g==t&&p==e;var h=!0;i.set(e,t),i.set(t,e);for(var _=o;++f<u;){d=s[f];var T=e[d],E=t[d];if(n)var k=o?n(E,T,d,t,e,i):n(T,E,d,e,t,i);if(!(k===void 0?T===E||a(T,E,r,n,i):k)){h=!1;break}_||(_=d=="constructor")}if(h&&!_){var q=e.constructor,z=t.constructor;q!=z&&"constructor"in e&&"constructor"in t&&!(typeof q=="function"&&q instanceof q&&typeof z=="function"&&z instanceof z)&&(h=!1)}return i.delete(e),i.delete(t),h}var Lp=Rp,jp=ve,Bp=J,Up=jp(Bp,"DataView"),Hp=Up,Fp=ve,kp=J,Wp=Fp(kp,"Promise"),Gp=Wp,qp=ve,zp=J,Kp=qp(zp,"Set"),Yp=Kp,Zp=ve,Vp=J,Xp=Zp(Vp,"WeakMap"),Jp=Xp,Nr=Hp,Rr=sn,Lr=Gp,jr=Yp,Br=Jp,Ci=Ke,Ae=mi,ta="[object Map]",Qp="[object Object]",ra="[object Promise]",na="[object Set]",aa="[object WeakMap]",ia="[object DataView]",eg=Ae(Nr),tg=Ae(Rr),rg=Ae(Lr),ng=Ae(jr),ag=Ae(Br),fe=Ci;(Nr&&fe(new Nr(new ArrayBuffer(1)))!=ia||Rr&&fe(new Rr)!=ta||Lr&&fe(Lr.resolve())!=ra||jr&&fe(new jr)!=na||Br&&fe(new Br)!=aa)&&(fe=function(e){var t=Ci(e),r=t==Qp?e.constructor:void 0,n=r?Ae(r):"";if(n)switch(n){case eg:return ia;case tg:return ta;case rg:return ra;case ng:return na;case ag:return aa}return t});var Ye=fe,gr=cn,ig=Si,og=hp,sg=Lp,oa=Ye,sa=X,ua=At,ug=an,cg=1,ca="[object Arguments]",la="[object Array]",ct="[object Object]",lg=Object.prototype,fa=lg.hasOwnProperty;function fg(e,t,r,n,a,i){var o=sa(e),s=sa(t),u=o?la:oa(e),c=s?la:oa(t);u=u==ca?ct:u,c=c==ca?ct:c;var l=u==ct,f=c==ct,d=u==c;if(d&&ua(e)){if(!ua(t))return!1;o=!0,l=!1}if(d&&!l)return i||(i=new gr),o||ug(e)?ig(e,t,r,n,a,i):og(e,t,u,r,n,a,i);if(!(r&cg)){var g=l&&fa.call(e,"__wrapped__"),p=f&&fa.call(t,"__wrapped__");if(g||p){var h=g?e.value():e,_=p?t.value():t;return i||(i=new gr),a(h,_,r,n,i)}}return d?(i||(i=new gr),sg(e,t,r,n,a,i)):!1}var dg=fg,pg=dg,da=me;function Ii(e,t,r,n,a){return e===t?!0:e==null||t==null||!da(e)&&!da(t)?e!==e&&t!==t:pg(e,t,r,n,Ii,a)}var dn=Ii,gg=cn,hg=dn,vg=1,mg=2;function yg(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var u=s[0],c=e[u],l=s[1];if(o&&s[2]){if(c===void 0&&!(u in e))return!1}else{var f=new gg;if(n)var d=n(c,l,u,e,t,f);if(!(d===void 0?hg(l,c,vg|mg,n,f):d))return!1}}return!0}var _g=yg,bg=Q;function Tg(e){return e===e&&!bg(e)}var Pi=Tg,Og=Pi,Sg=ye;function Dg(e){for(var t=Sg(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Og(a)]}return t}var $g=Dg;function Eg(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Mi=Eg,wg=_g,Cg=$g,Ig=Mi;function Pg(e){var t=Cg(e);return t.length==1&&t[0][2]?Ig(t[0][0],t[0][1]):function(r){return r===e||wg(r,e,t)}}var Mg=Pg,xg=Ke,Ag=me,Ng="[object Symbol]";function Rg(e){return typeof e=="symbol"||Ag(e)&&xg(e)==Ng}var Ht=Rg,Lg=X,jg=Ht,Bg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ug=/^\w*$/;function Hg(e,t){if(Lg(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||jg(e)?!0:Ug.test(e)||!Bg.test(e)||t!=null&&e in Object(t)}var pn=Hg,xi=un,Fg="Expected a function";function gn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Fg);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(gn.Cache||xi),r}gn.Cache=xi;var kg=gn,Wg=kg,Gg=500;function qg(e){var t=Wg(e,function(n){return r.size===Gg&&r.clear(),n}),r=t.cache;return t}var zg=qg,Kg=zg,Yg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zg=/\\(\\)?/g,Vg=Kg(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yg,function(r,n,a,i){t.push(a?i.replace(Zg,"$1"):n||r)}),t}),Xg=Vg;function Jg(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var hn=Jg,pa=Ce,Qg=hn,eh=X,th=Ht,rh=1/0,ga=pa?pa.prototype:void 0,ha=ga?ga.toString:void 0;function Ai(e){if(typeof e=="string")return e;if(eh(e))return Qg(e,Ai)+"";if(th(e))return ha?ha.call(e):"";var t=e+"";return t=="0"&&1/e==-rh?"-0":t}var nh=Ai,ah=nh;function ih(e){return e==null?"":ah(e)}var vn=ih,oh=X,sh=pn,uh=Xg,ch=vn;function lh(e,t){return oh(e)?e:sh(e,t)?[e]:uh(ch(e))}var Ft=lh,fh=Ht,dh=1/0;function ph(e){if(typeof e=="string"||fh(e))return e;var t=e+"";return t=="0"&&1/e==-dh?"-0":t}var Ze=ph,gh=Ft,hh=Ze;function vh(e,t){t=gh(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[hh(t[r++])];return r&&r==n?e:void 0}var mn=vh,mh=mn;function yh(e,t,r){var n=e==null?void 0:mh(e,t);return n===void 0?r:n}var Ni=yh;function _h(e,t){return e!=null&&t in Object(e)}var bh=_h,Th=Ft,Oh=xt,Sh=X,Dh=en,$h=tn,Eh=Ze;function wh(e,t,r){t=Th(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Eh(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&$h(a)&&Dh(o,a)&&(Sh(e)||Oh(e)))}var Ch=wh,Ih=bh,Ph=Ch;function Mh(e,t){return e!=null&&Ph(e,t,Ih)}var xh=Mh,Ah=dn,Nh=Ni,Rh=xh,Lh=pn,jh=Pi,Bh=Mi,Uh=Ze,Hh=1,Fh=2;function kh(e,t){return Lh(e)&&jh(t)?Bh(Uh(e),t):function(r){var n=Nh(r,e);return n===void 0&&n===t?Rh(r,e):Ah(t,n,Hh|Fh)}}var Wh=kh;function Gh(e){return e}var yn=Gh;function qh(e){return function(t){return t==null?void 0:t[e]}}var zh=qh,Kh=mn;function Yh(e){return function(t){return Kh(t,e)}}var Zh=Yh,Vh=zh,Xh=Zh,Jh=pn,Qh=Ze;function ev(e){return Jh(e)?Vh(Qh(e)):Xh(e)}var tv=ev,rv=Mg,nv=Wh,av=yn,iv=X,ov=tv;function sv(e){return typeof e=="function"?e:e==null?av:typeof e=="object"?iv(e)?nv(e[0],e[1]):rv(e):ov(e)}var Ri=sv,uv=Fu,cv=xl,lv=Ri,fv=X;function dv(e,t){return function(r,n){var a=fv(r)?uv:cv,i=t?t():{};return a(r,e,lv(n),i)}}var pv=dv,gv=Qr,hv=pv,vv=Object.prototype,mv=vv.hasOwnProperty,yv=hv(function(e,t,r){mv.call(e,r)?++e[r]:gv(e,r,1)}),_v=yv,bv=Qr,Tv=on,Ov=Object.prototype,Sv=Ov.hasOwnProperty;function Dv(e,t,r){var n=e[t];(!(Sv.call(e,t)&&Tv(n,r))||r===void 0&&!(t in e))&&bv(e,t,r)}var _n=Dv,$v=_n,Ev=Ft,wv=en,va=Q,Cv=Ze;function Iv(e,t,r,n){if(!va(e))return e;t=Ev(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var u=Cv(t[a]),c=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=o){var l=s[u];c=n?n(l,u,s):void 0,c===void 0&&(c=va(l)?l:wv(t[a+1])?[]:{})}$v(s,u,c),s=s[u]}return e}var Li=Iv,Pv=mn,Mv=Li,xv=Ft;function Av(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var o=t[n],s=Pv(e,o);r(s,o)&&Mv(i,xv(o,e),s)}return i}var Nv=Av,Rv=Ti,Lv=Rv(Object.getPrototypeOf,Object),ji=Lv,jv=ln,Bv=ji,Uv=fn,Hv=Ei,Fv=Object.getOwnPropertySymbols,kv=Fv?function(e){for(var t=[];e;)jv(t,Uv(e)),e=Bv(e);return t}:Hv,Bi=kv;function Wv(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Gv=Wv,qv=Q,zv=Nt,Kv=Gv,Yv=Object.prototype,Zv=Yv.hasOwnProperty;function Vv(e){if(!qv(e))return Kv(e);var t=zv(e),r=[];for(var n in e)n=="constructor"&&(t||!Zv.call(e,n))||r.push(n);return r}var Xv=Vv,Jv=bi,Qv=Xv,em=Rt;function tm(e){return em(e)?Jv(e,!0):Qv(e)}var bn=tm,rm=$i,nm=Bi,am=bn;function im(e){return rm(e,am,nm)}var Ui=im,om=hn,sm=Ri,um=Nv,cm=Ui;function lm(e,t){if(e==null)return{};var r=om(cm(e),function(n){return[n]});return t=sm(t),um(e,r,function(n,a){return t(n,a[0])})}var fm=lm;function Hi(e){let t=null;return()=>(t==null&&(t=e()),t)}function dm(e,t){return e.filter(r=>r!==t)}function pm(e,t){const r=new Set,n=i=>r.add(i);e.forEach(n),t.forEach(n);const a=[];return r.forEach(i=>a.push(i)),a}class gm{enter(t){const r=this.entered.length,n=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(t));return this.entered=pm(this.entered.filter(n),[t]),r===0&&this.entered.length>0}leave(t){const r=this.entered.length;return this.entered=dm(this.entered.filter(this.isNodeInDocument),t),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class hm{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const a=this.config.exposeProperties[n];a!=null&&(r[n]={value:a(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const Fi="__NATIVE_FILE__",ki="__NATIVE_URL__",Wi="__NATIVE_TEXT__",Gi="__NATIVE_HTML__",ma=Object.freeze(Object.defineProperty({__proto__:null,FILE:Fi,HTML:Gi,TEXT:Wi,URL:ki},Symbol.toStringTag,{value:"Module"}));function hr(e,t,r){const n=t.reduce((a,i)=>a||e.getData(i),"");return n??r}const Ur={[Fi]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Gi]:{exposeProperties:{html:(e,t)=>hr(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[ki]:{exposeProperties:{urls:(e,t)=>hr(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Wi]:{exposeProperties:{text:(e,t)=>hr(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function vm(e,t){const r=Ur[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new hm(r);return n.loadDataTransfer(t),n}function vr(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Ur).filter(r=>{const n=Ur[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(a=>t.indexOf(a)>-1):!1})[0]||null}const mm=Hi(()=>/firefox/i.test(navigator.userAgent)),qi=Hi(()=>!!window.safari);class ya{interpolate(t){const{xs:r,ys:n,c1s:a,c2s:i,c3s:o}=this;let s=r.length-1;if(t===r[s])return n[s];let u=0,c=o.length-1,l;for(;u<=c;){l=Math.floor(.5*(u+c));const g=r[l];if(g<t)u=l+1;else if(g>t)c=l-1;else return n[l]}s=Math.max(0,c);const f=t-r[s],d=f*f;return n[s]+a[s]*f+i[s]*d+o[s]*f*d}constructor(t,r){const{length:n}=t,a=[];for(let g=0;g<n;g++)a.push(g);a.sort((g,p)=>t[g]<t[p]?-1:1);const i=[],o=[];let s,u;for(let g=0;g<n-1;g++)s=t[g+1]-t[g],u=r[g+1]-r[g],i.push(s),o.push(u/s);const c=[o[0]];for(let g=0;g<i.length-1;g++){const p=o[g],h=o[g+1];if(p*h<=0)c.push(0);else{s=i[g];const _=i[g+1],T=s+_;c.push(3*T/((T+_)/p+(T+s)/h))}}c.push(o[o.length-1]);const l=[],f=[];let d;for(let g=0;g<c.length-1;g++){d=o[g];const p=c[g],h=1/i[g],_=p+c[g+1]-d-d;l.push((d-p-_)*h),f.push(_*h*h)}this.xs=t,this.ys=r,this.c1s=c,this.c2s=l,this.c3s=f}}const ym=1;function zi(e){const t=e.nodeType===ym?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function lt(e){return{x:e.clientX,y:e.clientY}}function _m(e){var t;return e.nodeName==="IMG"&&(mm()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function bm(e,t,r,n){let a=e?t.width:r,i=e?t.height:n;return qi()&&e&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}function Tm(e,t,r,n,a){const i=_m(t),s=zi(i?e:t),u={x:r.x-s.x,y:r.y-s.y},{offsetWidth:c,offsetHeight:l}=e,{anchorX:f,anchorY:d}=n,{dragPreviewWidth:g,dragPreviewHeight:p}=bm(i,t,c,l),h=()=>{let P=new ya([0,.5,1],[u.y,u.y/l*p,u.y+p-l]).interpolate(d);return qi()&&i&&(P+=(window.devicePixelRatio-1)*p),P},_=()=>new ya([0,.5,1],[u.x,u.x/c*g,u.x+g-c]).interpolate(f),{offsetX:T,offsetY:E}=a,k=T===0||T,q=E===0||E;return{x:k?T:_(),y:q?E:h()}}let Om=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,r){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}};function Sm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Sm(e,a,r[a])})}return e}class Dm{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);const a=o=>this.handleDragStart(o,t),i=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",a),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",a),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(t,r){const n=o=>this.handleDragEnter(o,t),a=o=>this.handleDragOver(o,t),i=o=>this.handleDrop(o,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",a),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",a),r.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return _a({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(t);return _a({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(ma).some(r=>ma[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=vm(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const i=this.sourceNodes.get(a);return i&&zi(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=lt(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:s}=a,u=vr(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){const l=this.monitor.getSourceId(),f=this.sourceNodes.get(l),d=this.sourcePreviewNodes.get(l)||f;if(d){const{anchorX:g,anchorY:p,offsetX:h,offsetY:_}=this.getCurrentSourcePreviewNodeOptions(),k=Tm(f,d,o,{anchorX:g,anchorY:p},{offsetX:h,offsetY:_});s.setDragImage(d,k.x,k.y)}}try{s==null||s.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(s&&!s.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:s}=a,u=vr(s);u&&this.beginDragNativeItem(u,s)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,i.length>0&&this.actions.hover(i,{clientOffset:lt(a)}),i.some(s=>this.monitor.canDropOnTarget(s))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=lt(a),this.scheduleHover(i),(i||[]).some(s=>this.monitor.canDropOnTarget(s))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;a.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}else vr(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:lt(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const i=a.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(a.preventDefault(),i.dragDrop()))},this.options=new Om(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new gm(this.isNodeInDocument)}}const $m=function(t,r,n){return new Dm(t,r,n)};function D(e,t,...r){if(Em()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;n=new Error(t.replace(/%s/g,function(){return r[a++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function Em(){return typeof process<"u"&&!0}var ie;(function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"})(ie||(ie={}));class wm{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,r,n,a;return(a=(n=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&a!==void 0?a:0}get delayMouseStart(){var t,r,n,a;return(a=(n=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&a!==void 0?a:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,r){this.args=t,this.context=r}}function Cm(e,t,r,n){return Math.sqrt(Math.pow(Math.abs(r-e),2)+Math.pow(Math.abs(n-t),2))}function Im(e,t,r,n,a){if(!a)return!1;const i=Math.atan2(n-t,r-e)*180/Math.PI+180;for(let o=0;o<a.length;++o){const s=a[o];if(s&&(s.start==null||i>=s.start)&&(s.end==null||i<=s.end))return!0}return!1}const Pm={Left:1,Right:2,Center:4},Mm={Left:0,Center:1,Right:2};function mr(e){return e.button===void 0||e.button===Mm.Left}function xm(e){return e.buttons===void 0||(e.buttons&Pm.Left)===0}function Ki(e){return!!e.targetTouches}const Am=1;function Nm(e){const t=e.nodeType===Am?e:e.parentElement;if(!t)return;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function Rm(e,t){if(e.targetTouches.length===1)return $t(e.targetTouches[0]);if(t&&e.touches.length===1&&e.touches[0].target===t.target)return $t(e.touches[0])}function $t(e,t){return Ki(e)?Rm(e,t):{x:e.clientX,y:e.clientY}}const ba=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return e=!0,!0}}))}catch{}return e})(),Be={[ie.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[ie.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[ie.keyboard]:{keydown:"keydown"}};class qe{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){const t=this.options.rootElement;t&&(D(!qe.isSetUp,"Cannot have two Touch backends at the same time."),qe.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){const t=this.options.rootElement;t&&(qe.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,r,n,a=!1){const i=ba?{capture:a,passive:!1}:a;this.listenerTypes.forEach(function(o){const s=Be[o][r];s&&t.addEventListener(s,n,i)})}removeEventListener(t,r,n,a=!1){const i=ba?{capture:a,passive:!1}:a;this.listenerTypes.forEach(function(o){const s=Be[o][r];s&&t.removeEventListener(s,n,i)})}connectDragSource(t,r){const n=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(t),this.removeEventListener(r,"start",n)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,r){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const a=i=>{if(!this.document||!n||!this.monitor.isDragging())return;let o;switch(i.type){case Be.mouse.move:o={x:i.clientX,y:i.clientY};break;case Be.touch.move:var s,u;o={x:((s=i.touches[0])===null||s===void 0?void 0:s.clientX)||0,y:((u=i.touches[0])===null||u===void 0?void 0:u.clientY)||0};break}const c=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,l=c&&r.contains(c);if(c===r||l)return this.handleMove(i,t)};return this.addEventListener(this.document.body,"move",a),this.targetNodes.set(t,r),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",a))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,r,n){this.getSourceClientOffset=a=>{const i=this.sourceNodes.get(a);return i&&Nm(i)},this.handleTopMoveStartCapture=a=>{mr(a)&&(this.moveStartSourceIds=[])},this.handleMoveStart=a=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(a)},this.handleTopMoveStart=a=>{if(!mr(a))return;const i=$t(a);i&&(Ki(a)&&(this.lastTargetTouchFallback=a.targetTouches[0]),this._mouseClientOffset=i),this.waitingForDelay=!1},this.handleTopMoveStartDelay=a=>{if(!mr(a))return;const i=a.type===Be.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,a),i),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(a,i)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(i)},this.handleTopMove=a=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:i,dragOverTargetIds:o}=this,s=this.options.enableHoverOutsideTarget,u=$t(a,this.lastTargetTouchFallback);if(!u)return;if(this._isScrolling||!this.monitor.isDragging()&&Im(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,u.x,u.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&i&&Cm(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,u.x,u.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(i,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const c=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(c),this.actions.publishDragSource(),a.cancelable&&a.preventDefault();const l=(o||[]).map(p=>this.targetNodes.get(p)).filter(p=>!!p),f=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(u.x,u.y,l):this.document.elementsFromPoint(u.x,u.y),d=[];for(const p in f){if(!f.hasOwnProperty(p))continue;let h=f[p];for(h!=null&&d.push(h);h;)h=h.parentElement,h&&d.indexOf(h)===-1&&d.push(h)}const g=d.filter(p=>l.indexOf(p)>-1).map(p=>this._getDropTargetId(p)).filter(p=>!!p).filter((p,h,_)=>_.indexOf(p)===h);if(s)for(const p in this.targetNodes){const h=this.targetNodes.get(p);if(c&&h&&h.contains(c)&&g.indexOf(p)===-1){g.unshift(p);break}}g.reverse(),this.actions.hover(g,{clientOffset:u})},this._getDropTargetId=a=>{const i=this.targetNodes.keys();let o=i.next();for(;o.done===!1;){const s=o.value;if(a===this.targetNodes.get(s))return s;o=i.next()}},this.handleTopMoveEndCapture=a=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!xm(a)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}a.cancelable&&a.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=a=>{a.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new wm(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(ie.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(ie.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(ie.keyboard)}}const Lm=function(t,r={},n={}){return new qe(t,r,n)};var Yi=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},O=(e,t,r)=>(Yi(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},de=(e,t,r,n)=>(Yi(e,t,"write to private field"),t.set(e,r),r),pe,jm=class{constructor(){Y(this,pe,void 0),this.register=e=>{O(this,pe).push(e)},this.unregister=e=>{let t;for(;(t=O(this,pe).indexOf(e))!==-1;)O(this,pe).splice(t,1)},this.backendChanged=e=>{for(let t of O(this,pe))t.backendChanged(e)},de(this,pe,[])}};pe=new WeakMap;var W,ke,G,ee,re,Hr,Fr,kr,mt,yt,We,Zi=class _t{constructor(t,r,n){if(Y(this,W,void 0),Y(this,ke,void 0),Y(this,G,void 0),Y(this,ee,void 0),Y(this,re,void 0),Y(this,Hr,(a,i,o)=>{if(!o.backend)throw new Error(`You must specify a 'backend' property in your Backend entry: ${JSON.stringify(o)}`);let s=o.backend(a,i,o.options),u=o.id,c=!o.id&&s&&s.constructor;if(c&&(u=s.constructor.name),u)c&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`);else throw new Error(`You must specify an 'id' property in your Backend entry: ${JSON.stringify(o)}
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`);if(O(this,G)[u])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        ${JSON.stringify(o)} (conflicts with: ${JSON.stringify(O(this,G)[u])})`);return{id:u,instance:s,preview:o.preview??!1,transition:o.transition,skipDispatchOnTransition:o.skipDispatchOnTransition??!1}}),this.setup=()=>{if(!(typeof window>"u")){if(_t.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");_t.isSetUp=!0,O(this,Fr).call(this,window),O(this,G)[O(this,W)].instance.setup()}},this.teardown=()=>{typeof window>"u"||(_t.isSetUp=!1,O(this,kr).call(this,window),O(this,G)[O(this,W)].instance.teardown())},this.connectDragSource=(a,i,o)=>O(this,We).call(this,"connectDragSource",a,i,o),this.connectDragPreview=(a,i,o)=>O(this,We).call(this,"connectDragPreview",a,i,o),this.connectDropTarget=(a,i,o)=>O(this,We).call(this,"connectDropTarget",a,i,o),this.profile=()=>O(this,G)[O(this,W)].instance.profile(),this.previewEnabled=()=>O(this,G)[O(this,W)].preview,this.previewsList=()=>O(this,ke),this.backendsList=()=>O(this,ee),Y(this,Fr,a=>{O(this,ee).forEach(i=>{i.transition&&a.addEventListener(i.transition.event,O(this,mt))})}),Y(this,kr,a=>{O(this,ee).forEach(i=>{i.transition&&a.removeEventListener(i.transition.event,O(this,mt))})}),Y(this,mt,a=>{var o;let i=O(this,W);if(O(this,ee).some(s=>s.id!==O(this,W)&&s.transition&&s.transition.check(a)?(de(this,W,s.id),!0):!1),O(this,W)!==i){O(this,G)[i].instance.teardown(),Object.keys(O(this,re)).forEach(l=>{let f=O(this,re)[l];f.unsubscribe(),f.unsubscribe=O(this,yt).call(this,f.func,...f.args)}),O(this,ke).backendChanged(this);let s=O(this,G)[O(this,W)];if(s.instance.setup(),s.skipDispatchOnTransition)return;let u=a.constructor,c=new u(a.type,a);(o=a.target)==null||o.dispatchEvent(c)}}),Y(this,yt,(a,i,o,s)=>O(this,G)[O(this,W)].instance[a](i,o,s)),Y(this,We,(a,i,o,s)=>{let u=`${a}_${i}`,c=O(this,yt).call(this,a,i,o,s);return O(this,re)[u]={func:a,args:[i,o,s],unsubscribe:c},()=>{O(this,re)[u].unsubscribe(),delete O(this,re)[u]}}),!n||!n.backends||n.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);de(this,ke,new jm),de(this,G,{}),de(this,ee,[]),n.backends.forEach(a=>{let i=O(this,Hr).call(this,t,r,a);O(this,G)[i.id]=i,O(this,ee).push(i)}),de(this,W,O(this,ee)[0].id),de(this,re,{})}};W=new WeakMap,ke=new WeakMap,G=new WeakMap,ee=new WeakMap,re=new WeakMap,Hr=new WeakMap,Fr=new WeakMap,kr=new WeakMap,mt=new WeakMap,yt=new WeakMap,We=new WeakMap,Zi.isSetUp=!1;var Bm=Zi,Vi=(e,t,r)=>new Bm(e,t,r),Ve=(e,t)=>({event:e,check:t}),Xi=Ve("touchstart",e=>{let t=e;return t.touches!==null&&t.touches!==void 0}),Um=Ve("dragstart",e=>e.type.indexOf("drag")!==-1||e.type.indexOf("drop")!==-1),Hm=Ve("mousedown",e=>e.type.indexOf("touch")===-1&&e.type.indexOf("mouse")!==-1),Ji=Ve("pointerdown",e=>e.pointerType=="mouse"),Fm={backends:[{id:"html5",backend:$m,transition:Ji},{id:"touch",backend:Lm,options:{enableMouseEvents:!0},preview:!0,transition:Xi}]};const km=Object.freeze(Object.defineProperty({__proto__:null,HTML5toTouch:Fm},Symbol.toStringTag,{value:"Module"})),Wm=Xr(km),Xe=b.createContext({dragDropManager:void 0});function K(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ta=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),yr=function(){return Math.random().toString(36).substring(7).split("").join(".")},Oa={INIT:"@@redux/INIT"+yr(),REPLACE:"@@redux/REPLACE"+yr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yr()}};function Gm(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Qi(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(K(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(K(1));return r(Qi)(e,t)}if(typeof e!="function")throw new Error(K(2));var a=e,i=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(K(3));return i}function f(h){if(typeof h!="function")throw new Error(K(4));if(u)throw new Error(K(5));var _=!0;return c(),s.push(h),function(){if(_){if(u)throw new Error(K(6));_=!1,c();var E=s.indexOf(h);s.splice(E,1),o=null}}}function d(h){if(!Gm(h))throw new Error(K(7));if(typeof h.type>"u")throw new Error(K(8));if(u)throw new Error(K(9));try{u=!0,i=a(i,h)}finally{u=!1}for(var _=o=s,T=0;T<_.length;T++){var E=_[T];E()}return h}function g(h){if(typeof h!="function")throw new Error(K(10));a=h,d({type:Oa.REPLACE})}function p(){var h,_=f;return h={subscribe:function(E){if(typeof E!="object"||E===null)throw new Error(K(11));function k(){E.next&&E.next(l())}k();var q=_(k);return{unsubscribe:q}}},h[Ta]=function(){return this},h}return d({type:Oa.INIT}),n={dispatch:d,subscribe:f,getState:l,replaceReducer:g},n[Ta]=p,n}function qm(e,t,r){return t.split(".").reduce((n,a)=>n&&n[a]?n[a]:r||null,e)}function zm(e,t){return e.filter(r=>r!==t)}function eo(e){return typeof e=="object"}function Km(e,t){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};e.forEach(n),t.forEach(n);const a=[];return r.forEach((i,o)=>{i===1&&a.push(o)}),a}function Ym(e,t){return e.filter(r=>t.indexOf(r)>-1)}const Tn="dnd-core/INIT_COORDS",kt="dnd-core/BEGIN_DRAG",On="dnd-core/PUBLISH_DRAG_SOURCE",Wt="dnd-core/HOVER",Gt="dnd-core/DROP",qt="dnd-core/END_DRAG";function Sa(e,t){return{type:Tn,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const Zm={type:Tn,payload:{clientOffset:null,sourceClientOffset:null}};function Vm(e){return function(r=[],n={publishSource:!0}){const{publishSource:a=!0,clientOffset:i,getSourceClientOffset:o}=n,s=e.getMonitor(),u=e.getRegistry();e.dispatch(Sa(i)),Xm(r,s,u);const c=ey(r,s);if(c==null){e.dispatch(Zm);return}let l=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");Jm(o),l=o(c)}e.dispatch(Sa(i,l));const d=u.getSource(c).beginDrag(s,c);if(d==null)return;Qm(d),u.pinSource(c);const g=u.getSourceType(c);return{type:kt,payload:{itemType:g,item:d,sourceId:c,clientOffset:i||null,sourceClientOffset:l||null,isSourcePublic:!!a}}}}function Xm(e,t,r){D(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){D(r.getSource(n),"Expected sourceIds to be registered.")})}function Jm(e){D(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Qm(e){D(eo(e),"Item must be an object.")}function ey(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function ty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ry(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){ty(e,a,r[a])})}return e}function ny(e){return function(r={}){const n=e.getMonitor(),a=e.getRegistry();ay(n),sy(n).forEach((o,s)=>{const u=iy(o,s,a,n),c={type:Gt,payload:{dropResult:ry({},r,u)}};e.dispatch(c)})}}function ay(e){D(e.isDragging(),"Cannot call drop while not dragging."),D(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function iy(e,t,r,n){const a=r.getTarget(e);let i=a?a.drop(n,e):void 0;return oy(i),typeof i>"u"&&(i=t===0?{}:n.getDropResult()),i}function oy(e){D(typeof e>"u"||eo(e),"Drop result must either be an object or undefined.")}function sy(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function uy(e){return function(){const r=e.getMonitor(),n=e.getRegistry();cy(r);const a=r.getSourceId();return a!=null&&(n.getSource(a,!0).endDrag(r,a),n.unpinSource()),{type:qt}}}function cy(e){D(e.isDragging(),"Cannot call endDrag while not dragging.")}function Wr(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function ly(e){return function(r,{clientOffset:n}={}){fy(r);const a=r.slice(0),i=e.getMonitor(),o=e.getRegistry(),s=i.getItemType();return py(a,o,s),dy(a,i,o),gy(a,i,o),{type:Wt,payload:{targetIds:a,clientOffset:n||null}}}}function fy(e){D(Array.isArray(e),"Expected targetIds to be an array.")}function dy(e,t,r){D(t.isDragging(),"Cannot call hover while not dragging."),D(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const a=e[n];D(e.lastIndexOf(a)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(a);D(i,"Expected targetIds to be registered.")}}function py(e,t,r){for(let n=e.length-1;n>=0;n--){const a=e[n],i=t.getTargetType(a);Wr(i,r)||e.splice(n,1)}}function gy(e,t,r){e.forEach(function(n){r.getTarget(n).hover(t,n)})}function hy(e){return function(){if(e.getMonitor().isDragging())return{type:On}}}function vy(e){return{beginDrag:Vm(e),publishDragSource:hy(e),hover:ly(e),drop:ny(e),endDrag:uy(e)}}class my{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:r}=this.store;function n(i){return(...o)=>{const s=i.apply(t,o);typeof s<"u"&&r(s)}}const a=vy(this);return Object.keys(a).reduce((i,o)=>{const s=a[o];return i[o]=n(s),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}}function yy(e,t){return{x:e.x+t.x,y:e.y+t.y}}function to(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _y(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return!t||!r||!n?null:to(yy(t,n),r)}function by(e){const{clientOffset:t,initialClientOffset:r}=e;return!t||!r?null:to(t,r)}const ze=[],Sn=[];ze.__IS_NONE__=!0;Sn.__IS_ALL__=!0;function Ty(e,t){return e===ze?!1:e===Sn||typeof t>"u"?!0:Ym(t,e).length>0}class Oy{subscribeToStateChange(t,r={}){const{handlerIds:n}=r;D(typeof t=="function","listener must be a function."),D(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),s=o.stateId;try{s===a||s===a+1&&!Ty(o.dirtyHandlerIds,n)||t()}finally{a=s}};return this.store.subscribe(i)}subscribeToOffsetChange(t){D(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const a=this.store.getState().dragOffset;a!==r&&(r=a,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;const r=this.registry.getSource(t);return D(r,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const r=this.registry.getTarget(t);if(D(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(t),a=this.getItemType();return Wr(n,a)&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const r=this.registry.getSource(t,!0);if(D(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(t),a=this.getItemType();return n!==a?!1:r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const a=this.registry.getTargetType(t),i=this.getItemType();if(i&&!Wr(a,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const s=o.indexOf(t);return n?s===o.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return _y(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return by(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}}const Da=typeof global<"u"?global:self,ro=Da.MutationObserver||Da.WebKitMutationObserver;function no(e){return function(){const r=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(r),clearInterval(n),e()}}}function Sy(e){let t=1;const r=new ro(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const Dy=typeof ro=="function"?Sy:no;class $y{enqueueTask(t){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,a=t.length-this.index;n<a;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Dy(this.flush),this.requestErrorThrow=no(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Ey{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}}class wy{create(t){const r=this.freeTasks,n=r.length?r.pop():new Ey(this.onError,a=>r[r.length]=a);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const ao=new $y,Cy=new wy(ao.registerPendingError);function Iy(e){ao.enqueueTask(Cy.create(e))}const Dn="dnd-core/ADD_SOURCE",$n="dnd-core/ADD_TARGET",En="dnd-core/REMOVE_SOURCE",zt="dnd-core/REMOVE_TARGET";function Py(e){return{type:Dn,payload:{sourceId:e}}}function My(e){return{type:$n,payload:{targetId:e}}}function xy(e){return{type:En,payload:{sourceId:e}}}function Ay(e){return{type:zt,payload:{targetId:e}}}function Ny(e){D(typeof e.canDrag=="function","Expected canDrag to be a function."),D(typeof e.beginDrag=="function","Expected beginDrag to be a function."),D(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Ry(e){D(typeof e.canDrop=="function","Expected canDrop to be a function."),D(typeof e.hover=="function","Expected hover to be a function."),D(typeof e.drop=="function","Expected beginDrag to be a function.")}function Gr(e,t){if(t&&Array.isArray(e)){e.forEach(r=>Gr(r,!1));return}D(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Z;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Z||(Z={}));let Ly=0;function jy(){return Ly++}function By(e){const t=jy().toString();switch(e){case Z.SOURCE:return`S${t}`;case Z.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function $a(e){switch(e[0]){case"S":return Z.SOURCE;case"T":return Z.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Ea(e,t){const r=e.entries();let n=!1;do{const{done:a,value:[,i]}=r.next();if(i===t)return!0;n=!!a}while(!n);return!1}class Uy{addSource(t,r){Gr(t),Ny(r);const n=this.addHandler(Z.SOURCE,t,r);return this.store.dispatch(Py(n)),n}addTarget(t,r){Gr(t,!0),Ry(r);const n=this.addHandler(Z.TARGET,t,r);return this.store.dispatch(My(n)),n}containsHandler(t){return Ea(this.dragSources,t)||Ea(this.dropTargets,t)}getSource(t,r=!1){return D(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return D(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return D(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return D(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return $a(t)===Z.SOURCE}isTargetId(t){return $a(t)===Z.TARGET}removeSource(t){D(this.getSource(t),"Expected an existing source."),this.store.dispatch(xy(t)),Iy(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){D(this.getTarget(t),"Expected an existing target."),this.store.dispatch(Ay(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const r=this.getSource(t);D(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){D(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){const a=By(t);return this.types.set(a,r),t===Z.SOURCE?this.dragSources.set(a,n):t===Z.TARGET&&this.dropTargets.set(a,n),a}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const Hy=(e,t)=>e===t;function Fy(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function ky(e,t,r=Hy){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function Wy(e=ze,t){switch(t.type){case Wt:break;case Dn:case $n:case zt:case En:return ze;case kt:case On:case qt:case Gt:default:return Sn}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,a=Km(r,n);if(!(a.length>0||!ky(r,n)))return ze;const o=n[n.length-1],s=r[r.length-1];return o!==s&&(o&&a.push(o),s&&a.push(s)),a}function Gy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Gy(e,a,r[a])})}return e}const wa={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function zy(e=wa,t){const{payload:r}=t;switch(t.type){case Tn:case kt:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Wt:return Fy(e.clientOffset,r.clientOffset)?e:qy({},e,{clientOffset:r.clientOffset});case qt:case Gt:return wa;default:return e}}function Ky(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Ky(e,a,r[a])})}return e}const Yy={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Zy(e=Yy,t){const{payload:r}=t;switch(t.type){case kt:return Oe({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case On:return Oe({},e,{isSourcePublic:!0});case Wt:return Oe({},e,{targetIds:r.targetIds});case zt:return e.targetIds.indexOf(r.targetId)===-1?e:Oe({},e,{targetIds:zm(e.targetIds,r.targetId)});case Gt:return Oe({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case qt:return Oe({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Vy(e=0,t){switch(t.type){case Dn:case $n:return e+1;case En:case zt:return e-1;default:return e}}function Xy(e=0){return e+1}function Jy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Jy(e,a,r[a])})}return e}function e_(e={},t){return{dirtyHandlerIds:Wy(e.dirtyHandlerIds,{type:t.type,payload:Qy({},t.payload,{prevTargetIds:qm(e,"dragOperation.targetIds",[])})}),dragOffset:zy(e.dragOffset,t),refCount:Vy(e.refCount,t),dragOperation:Zy(e.dragOperation,t),stateId:Xy(e.stateId)}}function t_(e,t=void 0,r={},n=!1){const a=r_(n),i=new Oy(a,new Uy(a)),o=new my(a,i),s=e(o,t,r);return o.receiveBackend(s),o}function r_(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Qi(e_,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function n_(e,t){if(e==null)return{};var r=a_(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a_(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}let Ca=0;const bt=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var io=b.memo(function(t){var{children:r}=t,n=n_(t,["children"]);const[a,i]=i_(n);return b.useEffect(()=>{if(i){const o=oo();return++Ca,()=>{--Ca===0&&(o[bt]=null)}}},[]),S.jsx(Xe.Provider,{value:a,children:r})});function i_(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=o_(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}function o_(e,t=oo(),r,n){const a=t;return a[bt]||(a[bt]={dragDropManager:t_(e,t,r,n)}),a[bt]}function oo(){return typeof global<"u"?global:window}const s_=b.memo(function({connect:t,src:r}){return b.useEffect(()=>{if(typeof Image>"u")return;let n=!1;const a=new Image;return a.src=r,a.onload=()=>{t(a),n=!0},()=>{n&&t(null)}}),null}),ge=typeof window<"u"?b.useLayoutEffect:b.useEffect;function so(e,t,r){const[n,a]=b.useState(()=>t(e)),i=b.useCallback(()=>{const o=t(e);xs(n,o)||(a(o),r&&r())},[n,e,r]);return ge(i),[n,i]}function u_(e,t,r){const[n,a]=so(e,t,r);return ge(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(a,{handlerIds:[o]})},[e,a]),n}function uo(e,t,r){return u_(t,e||(()=>({})),()=>r.reconnect())}function co(e,t){const r=[...t||[]];return t==null&&typeof e!="function"&&r.push(e),b.useMemo(()=>typeof e=="function"?e():e,r)}function c_(e){return b.useMemo(()=>e.hooks.dragSource(),[e])}function l_(e){return b.useMemo(()=>e.hooks.dragPreview(),[e])}let _r=!1,br=!1;class f_{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){D(!_r,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return _r=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{_r=!1}}isDragging(){if(!this.sourceId)return!1;D(!br,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return br=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{br=!1}}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,r){return this.internalMonitor.isOverTarget(t,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Tr=!1;class d_{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}canDrop(){if(!this.targetId)return!1;D(!Tr,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Tr=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Tr=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function p_(e,t,r){const n=r.getRegistry(),a=n.addTarget(e,t);return[a,()=>n.removeTarget(a)]}function g_(e,t,r){const n=r.getRegistry(),a=n.addSource(e,t);return[a,()=>n.removeSource(a)]}function qr(e,t,r,n){let a;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let u=0;u<i.length;u++){const c=i[u];if(!s(c))return!1;const l=e[c],f=t[c];if(a=void 0,a===!1||a===void 0&&l!==f)return!1}return!0}function zr(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function h_(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function v_(e){return(t=null,r=null)=>{if(!b.isValidElement(t)){const i=t;return e(i,r),i}const n=t;return h_(n),m_(n,r?i=>e(i,r):e)}}function lo(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const a=v_(n);t[r]=()=>a}}),t}function Ia(e,t){typeof e=="function"?e(t):e.current=t}function m_(e,t){const r=e.ref;return D(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?b.cloneElement(e,{ref:n=>{Ia(r,n),Ia(t,n)}}):b.cloneElement(e,{ref:t})}class y_{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?t?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),r):(this.lastConnectedDragSource=t,r):r}reconnectDragPreview(t=!1){const r=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!qr(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!qr(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=lo({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,zr(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,zr(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class __{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!qr(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=lo({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,zr(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function se(){const{dragDropManager:e}=b.useContext(Xe);return D(e!=null,"Expected drag drop context"),e}function b_(e,t){const r=se(),n=b.useMemo(()=>new y_(r.getBackend()),[r]);return ge(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),ge(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}function T_(){const e=se();return b.useMemo(()=>new f_(e),[e])}class O_{beginDrag(){const t=this.spec,r=this.monitor;let n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(r):n={},n??null}canDrag(){const t=this.spec,r=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(r):!0}isDragging(t,r){const n=this.spec,a=this.monitor,{isDragging:i}=n;return i?i(a):r===t.getSourceId()}endDrag(){const t=this.spec,r=this.monitor,n=this.connector,{end:a}=t;a&&a(r.getItem(),r),n.reconnect()}constructor(t,r,n){this.spec=t,this.monitor=r,this.connector=n}}function S_(e,t,r){const n=b.useMemo(()=>new O_(e,t,r),[t,r]);return b.useEffect(()=>{n.spec=e},[e]),n}function D_(e){return b.useMemo(()=>{const t=e.type;return D(t!=null,"spec.type must be defined"),t},[e])}function $_(e,t,r){const n=se(),a=S_(e,t,r),i=D_(e);ge(function(){if(i!=null){const[s,u]=g_(i,a,n);return t.receiveHandlerId(s),r.receiveHandlerId(s),u}},[n,t,r,a,i])}function fo(e,t){const r=co(e,t);D(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=T_(),a=b_(r.options,r.previewOptions);return $_(r,n,a),[uo(r.collect,n,a),c_(a),l_(a)]}function po(e){const r=se().getMonitor(),[n,a]=so(r,e);return b.useEffect(()=>r.subscribeToOffsetChange(a)),b.useEffect(()=>r.subscribeToStateChange(a)),n}function E_(e){return b.useMemo(()=>e.hooks.dropTarget(),[e])}function w_(e){const t=se(),r=b.useMemo(()=>new __(t.getBackend()),[t]);return ge(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}function C_(){const e=se();return b.useMemo(()=>new d_(e),[e])}function I_(e){const{accept:t}=e;return b.useMemo(()=>(D(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class P_{canDrop(){const t=this.spec,r=this.monitor;return t.canDrop?t.canDrop(r.getItem(),r):!0}hover(){const t=this.spec,r=this.monitor;t.hover&&t.hover(r.getItem(),r)}drop(){const t=this.spec,r=this.monitor;if(t.drop)return t.drop(r.getItem(),r)}constructor(t,r){this.spec=t,this.monitor=r}}function M_(e,t){const r=b.useMemo(()=>new P_(e,t),[t]);return b.useEffect(()=>{r.spec=e},[e]),r}function x_(e,t,r){const n=se(),a=M_(e,t),i=I_(e);ge(function(){const[s,u]=p_(i,a,n);return t.receiveHandlerId(s),r.receiveHandlerId(s),u},[n,t,a,r,i.map(o=>o.toString()).join("|")])}function go(e,t){const r=co(e,t),n=C_(),a=w_(r.options);return x_(r,n,a),[uo(r.collect,n,a),E_(a)]}const A_=Object.freeze(Object.defineProperty({__proto__:null,DndContext:Xe,DndProvider:io,DragPreviewImage:s_,useDrag:fo,useDragDropManager:se,useDragLayer:po,useDrop:go},Symbol.toStringTag,{value:"Module"})),Kt=Xr(A_);var Kr=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),N_=e=>{let t=e.getInitialClientOffset(),r=e.getInitialSourceClientOffset();return t===null||r===null?{x:0,y:0}:Kr(t,r)},R_=(e,t)=>{let r=e.getClientOffset();if(r===null)return null;if(!t.current||!t.current.getBoundingClientRect)return Kr(r,N_(e));let n=t.current.getBoundingClientRect(),a={x:n.width/2,y:n.height/2};return Kr(r,a)},L_=e=>{let t=`translate(${e.x.toFixed(1)}px, ${e.y.toFixed(1)}px)`;return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:t,WebkitTransform:t}},ho=()=>{let e=b.useRef(null),t=po(r=>({currentOffset:R_(r,e),isDragging:r.isDragging(),itemType:r.getItemType(),item:r.getItem(),monitor:r}));return!t.isDragging||t.currentOffset===null?{display:!1}:{display:!0,itemType:t.itemType,item:t.item,style:L_(t.currentOffset),monitor:t.monitor,ref:e}},wn=b.createContext(void 0),j_=e=>{let t=ho();if(!t.display)return null;let{display:r,...n}=t,a;return"children"in e?typeof e.children=="function"?a=e.children(n):a=e.children:a=e.generator(n),Ge.createElement(wn.Provider,{value:n},a)},vo=b.createContext(null),B_=({portal:e,...t})=>{let[r,n]=b.useState(null);return Ge.createElement(vo.Provider,{value:e??r},Ge.createElement(io,{backend:Vi,...t}),e?null:Ge.createElement("div",{ref:n}))},mo=()=>{let[e,t]=b.useState(!1),r=b.useContext(Xe);return b.useEffect(()=>{var i;let n=(i=r==null?void 0:r.dragDropManager)==null?void 0:i.getBackend(),a={backendChanged:o=>{t(o.previewEnabled())}};return t(n.previewEnabled()),n.previewsList().register(a),()=>{n.previewsList().unregister(a)}},[r,r.dragDropManager]),e},yo=e=>{let t=mo(),r=b.useContext(vo);if(!t)return null;let n=Ge.createElement(j_,{...e});return r!==null?fs.createPortal(n,r):n};yo.Context=wn;var U_=(e,t,r,n)=>{let a=r.getBackend();r.receiveBackend(n);let i=t(e);return r.receiveBackend(a),i},_o=(e,t)=>{var s;let r=b.useContext(Xe),n=(s=r==null?void 0:r.dragDropManager)==null?void 0:s.getBackend();if(n===void 0)throw new Error("could not find backend, make sure you are using a <DndProvider />");let a=t(e),i={},o=n.backendsList();for(let u of o)i[u.id]=U_(e,t,r.dragDropManager,u.instance);return[a,i]},H_=e=>_o(e,fo),F_=e=>_o(e,go),k_=()=>{let e=mo(),t=ho();return e?t:{display:!1}};const W_=Object.freeze(Object.defineProperty({__proto__:null,DndProvider:B_,HTML5DragTransition:Um,MouseTransition:Hm,MultiBackend:Vi,PointerTransition:Ji,Preview:yo,PreviewContext:wn,TouchTransition:Xi,createTransition:Ve,useMultiDrag:H_,useMultiDrop:F_,usePreview:k_},Symbol.toStringTag,{value:"Module"})),G_=Xr(W_);var bo={},Yt={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.default=z_;let ft;const q_=new Uint8Array(16);function z_(){if(!ft&&(ft=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ft))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ft(q_)}var ue={},_e={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.default=void 0;var K_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Vt.default=K_;Object.defineProperty(_e,"__esModule",{value:!0});_e.default=void 0;var Y_=Z_(Vt);function Z_(e){return e&&e.__esModule?e:{default:e}}function V_(e){return typeof e=="string"&&Y_.default.test(e)}var X_=V_;_e.default=X_;Object.defineProperty(ue,"__esModule",{value:!0});ue.default=void 0;ue.unsafeStringify=To;var J_=Q_(_e);function Q_(e){return e&&e.__esModule?e:{default:e}}const N=[];for(let e=0;e<256;++e)N.push((e+256).toString(16).slice(1));function To(e,t=0){return N[e[t+0]]+N[e[t+1]]+N[e[t+2]]+N[e[t+3]]+"-"+N[e[t+4]]+N[e[t+5]]+"-"+N[e[t+6]]+N[e[t+7]]+"-"+N[e[t+8]]+N[e[t+9]]+"-"+N[e[t+10]]+N[e[t+11]]+N[e[t+12]]+N[e[t+13]]+N[e[t+14]]+N[e[t+15]]}function e1(e,t=0){const r=To(e,t);if(!(0,J_.default)(r))throw TypeError("Stringified UUID is invalid");return r}var t1=e1;ue.default=t1;Object.defineProperty(Yt,"__esModule",{value:!0});Yt.default=void 0;var r1=a1(Zt),n1=ue;function a1(e){return e&&e.__esModule?e:{default:e}}let Pa,Or,Sr=0,Dr=0;function i1(e,t,r){let n=t&&r||0;const a=t||new Array(16);e=e||{};let i=e.node||Pa,o=e.clockseq!==void 0?e.clockseq:Or;if(i==null||o==null){const d=e.random||(e.rng||r1.default)();i==null&&(i=Pa=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),o==null&&(o=Or=(d[6]<<8|d[7])&16383)}let s=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:Dr+1;const c=s-Sr+(u-Dr)/1e4;if(c<0&&e.clockseq===void 0&&(o=o+1&16383),(c<0||s>Sr)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Sr=s,Dr=u,Or=o,s+=122192928e5;const l=((s&268435455)*1e4+u)%4294967296;a[n++]=l>>>24&255,a[n++]=l>>>16&255,a[n++]=l>>>8&255,a[n++]=l&255;const f=s/4294967296*1e4&268435455;a[n++]=f>>>8&255,a[n++]=f&255,a[n++]=f>>>24&15|16,a[n++]=f>>>16&255,a[n++]=o>>>8|128,a[n++]=o&255;for(let d=0;d<6;++d)a[n+d]=i[d];return t||(0,n1.unsafeStringify)(a)}var o1=i1;Yt.default=o1;var Xt={},oe={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.default=void 0;var s1=u1(_e);function u1(e){return e&&e.__esModule?e:{default:e}}function c1(e){if(!(0,s1.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var l1=c1;Je.default=l1;Object.defineProperty(oe,"__esModule",{value:!0});oe.URL=oe.DNS=void 0;oe.default=h1;var f1=ue,d1=p1(Je);function p1(e){return e&&e.__esModule?e:{default:e}}function g1(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}const Oo="6ba7b810-9dad-11d1-80b4-00c04fd430c8";oe.DNS=Oo;const So="6ba7b811-9dad-11d1-80b4-00c04fd430c8";oe.URL=So;function h1(e,t,r){function n(a,i,o,s){var u;if(typeof a=="string"&&(a=g1(a)),typeof i=="string"&&(i=(0,d1.default)(i)),((u=i)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+a.length);if(c.set(i),c.set(a,i.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){s=s||0;for(let l=0;l<16;++l)o[s+l]=c[l];return o}return(0,f1.unsafeStringify)(c)}try{n.name=e}catch{}return n.DNS=Oo,n.URL=So,n}var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.default=void 0;function v1(e){if(typeof e=="string"){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return m1(y1(_1(e),e.length*8))}function m1(e){const t=[],r=e.length*32,n="0123456789abcdef";for(let a=0;a<r;a+=8){const i=e[a>>5]>>>a%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(o)}return t}function Do(e){return(e+64>>>9<<4)+14+1}function y1(e,t){e[t>>5]|=128<<t%32,e[Do(t)-1]=t;let r=1732584193,n=-271733879,a=-1732584194,i=271733878;for(let o=0;o<e.length;o+=16){const s=r,u=n,c=a,l=i;r=L(r,n,a,i,e[o],7,-680876936),i=L(i,r,n,a,e[o+1],12,-389564586),a=L(a,i,r,n,e[o+2],17,606105819),n=L(n,a,i,r,e[o+3],22,-1044525330),r=L(r,n,a,i,e[o+4],7,-176418897),i=L(i,r,n,a,e[o+5],12,1200080426),a=L(a,i,r,n,e[o+6],17,-1473231341),n=L(n,a,i,r,e[o+7],22,-45705983),r=L(r,n,a,i,e[o+8],7,1770035416),i=L(i,r,n,a,e[o+9],12,-1958414417),a=L(a,i,r,n,e[o+10],17,-42063),n=L(n,a,i,r,e[o+11],22,-1990404162),r=L(r,n,a,i,e[o+12],7,1804603682),i=L(i,r,n,a,e[o+13],12,-40341101),a=L(a,i,r,n,e[o+14],17,-1502002290),n=L(n,a,i,r,e[o+15],22,1236535329),r=j(r,n,a,i,e[o+1],5,-165796510),i=j(i,r,n,a,e[o+6],9,-1069501632),a=j(a,i,r,n,e[o+11],14,643717713),n=j(n,a,i,r,e[o],20,-373897302),r=j(r,n,a,i,e[o+5],5,-701558691),i=j(i,r,n,a,e[o+10],9,38016083),a=j(a,i,r,n,e[o+15],14,-660478335),n=j(n,a,i,r,e[o+4],20,-405537848),r=j(r,n,a,i,e[o+9],5,568446438),i=j(i,r,n,a,e[o+14],9,-1019803690),a=j(a,i,r,n,e[o+3],14,-187363961),n=j(n,a,i,r,e[o+8],20,1163531501),r=j(r,n,a,i,e[o+13],5,-1444681467),i=j(i,r,n,a,e[o+2],9,-51403784),a=j(a,i,r,n,e[o+7],14,1735328473),n=j(n,a,i,r,e[o+12],20,-1926607734),r=B(r,n,a,i,e[o+5],4,-378558),i=B(i,r,n,a,e[o+8],11,-2022574463),a=B(a,i,r,n,e[o+11],16,1839030562),n=B(n,a,i,r,e[o+14],23,-35309556),r=B(r,n,a,i,e[o+1],4,-1530992060),i=B(i,r,n,a,e[o+4],11,1272893353),a=B(a,i,r,n,e[o+7],16,-155497632),n=B(n,a,i,r,e[o+10],23,-1094730640),r=B(r,n,a,i,e[o+13],4,681279174),i=B(i,r,n,a,e[o],11,-358537222),a=B(a,i,r,n,e[o+3],16,-722521979),n=B(n,a,i,r,e[o+6],23,76029189),r=B(r,n,a,i,e[o+9],4,-640364487),i=B(i,r,n,a,e[o+12],11,-421815835),a=B(a,i,r,n,e[o+15],16,530742520),n=B(n,a,i,r,e[o+2],23,-995338651),r=U(r,n,a,i,e[o],6,-198630844),i=U(i,r,n,a,e[o+7],10,1126891415),a=U(a,i,r,n,e[o+14],15,-1416354905),n=U(n,a,i,r,e[o+5],21,-57434055),r=U(r,n,a,i,e[o+12],6,1700485571),i=U(i,r,n,a,e[o+3],10,-1894986606),a=U(a,i,r,n,e[o+10],15,-1051523),n=U(n,a,i,r,e[o+1],21,-2054922799),r=U(r,n,a,i,e[o+8],6,1873313359),i=U(i,r,n,a,e[o+15],10,-30611744),a=U(a,i,r,n,e[o+6],15,-1560198380),n=U(n,a,i,r,e[o+13],21,1309151649),r=U(r,n,a,i,e[o+4],6,-145523070),i=U(i,r,n,a,e[o+11],10,-1120210379),a=U(a,i,r,n,e[o+2],15,718787259),n=U(n,a,i,r,e[o+9],21,-343485551),r=ae(r,s),n=ae(n,u),a=ae(a,c),i=ae(i,l)}return[r,n,a,i]}function _1(e){if(e.length===0)return[];const t=e.length*8,r=new Uint32Array(Do(t));for(let n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function ae(e,t){const r=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(r>>16)<<16|r&65535}function b1(e,t){return e<<t|e>>>32-t}function Qt(e,t,r,n,a,i){return ae(b1(ae(ae(t,e),ae(n,i)),a),r)}function L(e,t,r,n,a,i,o){return Qt(t&r|~t&n,e,t,a,i,o)}function j(e,t,r,n,a,i,o){return Qt(t&n|r&~n,e,t,a,i,o)}function B(e,t,r,n,a,i,o){return Qt(t^r^n,e,t,a,i,o)}function U(e,t,r,n,a,i,o){return Qt(r^(t|~n),e,t,a,i,o)}var T1=v1;Jt.default=T1;Object.defineProperty(Xt,"__esModule",{value:!0});Xt.default=void 0;var O1=$o(oe),S1=$o(Jt);function $o(e){return e&&e.__esModule?e:{default:e}}const D1=(0,O1.default)("v3",48,S1.default);var $1=D1;Xt.default=$1;var er={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.default=void 0;const E1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var w1={randomUUID:E1};tr.default=w1;Object.defineProperty(er,"__esModule",{value:!0});er.default=void 0;var Ma=Eo(tr),C1=Eo(Zt),I1=ue;function Eo(e){return e&&e.__esModule?e:{default:e}}function P1(e,t,r){if(Ma.default.randomUUID&&!t&&!e)return Ma.default.randomUUID();e=e||{};const n=e.random||(e.rng||C1.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let a=0;a<16;++a)t[r+a]=n[a];return t}return(0,I1.unsafeStringify)(n)}var M1=P1;er.default=M1;var rr={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.default=void 0;function x1(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function $r(e,t){return e<<t|e>>>32-t}function A1(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const o=unescape(encodeURIComponent(e));e=[];for(let s=0;s<o.length;++s)e.push(o.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const n=e.length/4+2,a=Math.ceil(n/16),i=new Array(a);for(let o=0;o<a;++o){const s=new Uint32Array(16);for(let u=0;u<16;++u)s[u]=e[o*64+u*4]<<24|e[o*64+u*4+1]<<16|e[o*64+u*4+2]<<8|e[o*64+u*4+3];i[o]=s}i[a-1][14]=(e.length-1)*8/Math.pow(2,32),i[a-1][14]=Math.floor(i[a-1][14]),i[a-1][15]=(e.length-1)*8&4294967295;for(let o=0;o<a;++o){const s=new Uint32Array(80);for(let g=0;g<16;++g)s[g]=i[o][g];for(let g=16;g<80;++g)s[g]=$r(s[g-3]^s[g-8]^s[g-14]^s[g-16],1);let u=r[0],c=r[1],l=r[2],f=r[3],d=r[4];for(let g=0;g<80;++g){const p=Math.floor(g/20),h=$r(u,5)+x1(p,c,l,f)+d+t[p]+s[g]>>>0;d=f,f=l,l=$r(c,30)>>>0,c=u,u=h}r[0]=r[0]+u>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+l>>>0,r[3]=r[3]+f>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var N1=A1;nr.default=N1;Object.defineProperty(rr,"__esModule",{value:!0});rr.default=void 0;var R1=wo(oe),L1=wo(nr);function wo(e){return e&&e.__esModule?e:{default:e}}const j1=(0,R1.default)("v5",80,L1.default);var B1=j1;rr.default=B1;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.default=void 0;var U1="00000000-0000-0000-0000-000000000000";ar.default=U1;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.default=void 0;var H1=F1(_e);function F1(e){return e&&e.__esModule?e:{default:e}}function k1(e){if(!(0,H1.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var W1=k1;ir.default=W1;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.default}});var t=l(Yt),r=l(Xt),n=l(er),a=l(rr),i=l(ar),o=l(ir),s=l(_e),u=l(ue),c=l(Je);function l(f){return f&&f.__esModule?f:{default:f}}})(bo);var R={},G1=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(R,"__esModule",{value:!0});R.MosaicWindowContext=R.MosaicContext=void 0;var Co=G1(b);R.MosaicContext=Co.default.createContext(void 0);R.MosaicWindowContext=Co.default.createContext(void 0);var or={},xa=Ce,q1=xt,z1=X,Aa=xa?xa.isConcatSpreadable:void 0;function K1(e){return z1(e)||q1(e)||!!(Aa&&e&&e[Aa])}var Y1=K1,Z1=ln,V1=Y1;function Io(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=V1),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?Io(s,t-1,r,n,a):Z1(a,s):n||(a[a.length]=s)}return a}var X1=Io,J1=X1;function Q1(e){var t=e==null?0:e.length;return t?J1(e,1):[]}var e0=Q1,sr={};function t0(e,t,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),t!==void 0&&(e=e>=t?e:t)),e}var r0=t0,n0=/\s/;function a0(e){for(var t=e.length;t--&&n0.test(e.charAt(t)););return t}var i0=a0,o0=i0,s0=/^\s+/;function u0(e){return e&&e.slice(0,o0(e)+1).replace(s0,"")}var c0=u0,l0=c0,Na=Q,f0=Ht,Ra=NaN,d0=/^[-+]0x[0-9a-f]+$/i,p0=/^0b[01]+$/i,g0=/^0o[0-7]+$/i,h0=parseInt;function v0(e){if(typeof e=="number")return e;if(f0(e))return Ra;if(Na(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Na(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=l0(e);var r=p0.test(e);return r||g0.test(e)?h0(e.slice(2),r?2:8):d0.test(e)?Ra:+e}var Cn=v0,m0=r0,Er=Cn;function y0(e,t,r){return r===void 0&&(r=t,t=void 0),r!==void 0&&(r=Er(r),r=r===r?r:0),t!==void 0&&(t=Er(t),t=t===t?t:0),m0(Er(e),t,r)}var _0=y0,b0=J,T0=function(){return b0.Date.now()},O0=T0,S0=Q,wr=O0,La=Cn,D0="Expected a function",$0=Math.max,E0=Math.min;function w0(e,t,r){var n,a,i,o,s,u,c=0,l=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(D0);t=La(t)||0,S0(r)&&(l=!!r.leading,f="maxWait"in r,i=f?$0(La(r.maxWait)||0,t):i,d="trailing"in r?!!r.trailing:d);function g(P){var v=n,m=a;return n=a=void 0,c=P,o=e.apply(m,v),o}function p(P){return c=P,s=setTimeout(T,t),l?g(P):o}function h(P){var v=P-u,m=P-c,$=t-v;return f?E0($,i-m):$}function _(P){var v=P-u,m=P-c;return u===void 0||v>=t||v<0||f&&m>=i}function T(){var P=wr();if(_(P))return E(P);s=setTimeout(T,h(P))}function E(P){return s=void 0,d&&n?g(P):(n=a=void 0,o)}function k(){s!==void 0&&clearTimeout(s),c=0,n=u=a=s=void 0}function q(){return s===void 0?o:E(wr())}function z(){var P=wr(),v=_(P);if(n=arguments,a=this,u=P,v){if(s===void 0)return p(u);if(f)return clearTimeout(s),s=setTimeout(T,t),g(u)}return s===void 0&&(s=setTimeout(T,t)),o}return z.cancel=k,z.flush=q,z}var C0=w0,I0=C0,P0=Q,M0="Expected a function";function x0(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(M0);return P0(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),I0(e,t,{leading:n,maxWait:t,trailing:a})}var A0=x0,In={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.assertNever=void 0;function N0(e){throw new Error("Unhandled case: "+JSON.stringify(e))}ur.assertNever=N0;(function(e){var t=y&&y.__assign||function(){return t=Object.assign||function(n){for(var a,i=1,o=arguments.length;i<o;i++){a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.BoundingBox=void 0;var r=ur;(function(n){function a(){return{top:0,right:0,bottom:0,left:0}}n.empty=a;function i(c,l,f){var d=o(c,l,f);return f==="column"?{first:t(t({},c),{bottom:100-d}),second:t(t({},c),{top:d})}:f==="row"?{first:t(t({},c),{right:100-d}),second:t(t({},c),{left:d})}:(0,r.assertNever)(f)}n.split=i;function o(c,l,f){var d=c.top,g=c.right,p=c.bottom,h=c.left;if(f==="column"){var _=100-d-p;return _*l/100+d}else if(f==="row"){var T=100-g-h;return T*l/100+h}else return(0,r.assertNever)(f)}n.getAbsoluteSplitPercentage=o;function s(c,l,f){var d=c.top,g=c.right,p=c.bottom,h=c.left;if(f==="column"){var _=100-d-p;return(l-d)/_*100}else if(f==="row"){var T=100-g-h;return(l-h)/T*100}else return(0,r.assertNever)(f)}n.getRelativeSplitPercentage=s;function u(c){var l=c.top,f=c.right,d=c.bottom,g=c.left;return{top:"".concat(l,"%"),right:"".concat(f,"%"),bottom:"".concat(d,"%"),left:"".concat(g,"%")}}n.asStyles=u})(e.BoundingBox||(e.BoundingBox={}))})(In);var R0=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Et=y&&y.__assign||function(){return Et=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Et.apply(this,arguments)},cr=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});sr.Split=void 0;var L0=cr(V),j0=cr(_0),B0=cr(A0),dt=cr(b),Cr=In,U0=1e3/30,pt={capture:!0,passive:!1},H0=function(e){R0(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.rootElement=dt.default.createRef(),r.listenersBound=!1,r.onMouseDown=function(n){!ja(n)&&n.button!==0||(n.preventDefault(),r.bindListeners())},r.onMouseUp=function(n){r.unbindListeners();var a=r.calculateRelativePercentage(n);r.props.onRelease(a)},r.onMouseMove=function(n){n.preventDefault(),r.throttledUpdatePercentage(n)},r.throttledUpdatePercentage=(0,B0.default)(function(n){var a=r.calculateRelativePercentage(n);a!==r.props.splitPercentage&&r.props.onChange(a)},U0),r}return t.prototype.render=function(){var r=this.props.direction;return dt.default.createElement("div",{className:(0,L0.default)("mosaic-split",{"-row":r==="row","-column":r==="column"}),ref:this.rootElement,onMouseDown:this.onMouseDown,style:this.computeStyle()},dt.default.createElement("div",{className:"mosaic-split-line"}))},t.prototype.componentDidMount=function(){this.rootElement.current.addEventListener("touchstart",this.onMouseDown,pt)},t.prototype.componentWillUnmount=function(){this.unbindListeners(),this.rootElement.current&&this.rootElement.current.ownerDocument.removeEventListener("touchstart",this.onMouseDown,pt)},t.prototype.bindListeners=function(){this.listenersBound||(this.rootElement.current.ownerDocument.addEventListener("mousemove",this.onMouseMove,!0),this.rootElement.current.ownerDocument.addEventListener("touchmove",this.onMouseMove,pt),this.rootElement.current.ownerDocument.addEventListener("mouseup",this.onMouseUp,!0),this.rootElement.current.ownerDocument.addEventListener("touchend",this.onMouseUp,!0),this.listenersBound=!0)},t.prototype.unbindListeners=function(){this.rootElement.current&&(this.rootElement.current.ownerDocument.removeEventListener("mousemove",this.onMouseMove,!0),this.rootElement.current.ownerDocument.removeEventListener("touchmove",this.onMouseMove,pt),this.rootElement.current.ownerDocument.removeEventListener("mouseup",this.onMouseUp,!0),this.rootElement.current.ownerDocument.removeEventListener("touchend",this.onMouseUp,!0),this.listenersBound=!1)},t.prototype.computeStyle=function(){var r,n=this.props,a=n.boundingBox,i=n.direction,o=n.splitPercentage,s=i==="column"?"top":"left",u=Cr.BoundingBox.getAbsoluteSplitPercentage(a,o,i);return Et(Et({},Cr.BoundingBox.asStyles(a)),(r={},r[s]="".concat(u,"%"),r))},t.prototype.calculateRelativePercentage=function(r){var n=this.props,a=n.minimumPaneSizePercentage,i=n.direction,o=n.boundingBox,s=this.rootElement.current.parentElement.getBoundingClientRect(),u=ja(r)?r.changedTouches[0]:r,c;i==="column"?c=(u.clientY-s.top)/s.height*100:c=(u.clientX-s.left)/s.width*100;var l=Cr.BoundingBox.getRelativeSplitPercentage(o,c,i);return(0,j0.default)(l,a,100-a)},t.defaultProps={onChange:function(){},onRelease:function(){},minimumPaneSizePercentage:20},t}(dt.default.PureComponent);sr.Split=H0;function ja(e){return e.changedTouches!=null}var Qe={};function F0(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var k0=F0,W0=_n,G0=Qr;function q0(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],u=n?n(r[s],e[s],s,r,e):void 0;u===void 0&&(u=e[s]),a?G0(r,s,u):W0(r,s,u)}return r}var lr=q0,z0=lr,K0=ye;function Y0(e,t){return e&&z0(t,K0(t),e)}var Z0=Y0,V0=lr,X0=bn;function J0(e,t){return e&&V0(t,X0(t),e)}var Q0=J0,wt={exports:{}};wt.exports;(function(e,t){var r=J,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function u(c,l){if(l)return c.slice();var f=c.length,d=s?s(f):new c.constructor(f);return c.copy(d),d}e.exports=u})(wt,wt.exports);var eb=wt.exports;function tb(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var rb=tb,nb=lr,ab=fn;function ib(e,t){return nb(e,ab(e),t)}var ob=ib,sb=lr,ub=Bi;function cb(e,t){return sb(e,ub(e),t)}var lb=cb,fb=Object.prototype,db=fb.hasOwnProperty;function pb(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&db.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var gb=pb,Ba=Di;function hb(e){var t=new e.constructor(e.byteLength);return new Ba(t).set(new Ba(e)),t}var Pn=hb,vb=Pn;function mb(e,t){var r=t?vb(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var yb=mb,_b=/\w*$/;function bb(e){var t=new e.constructor(e.source,_b.exec(e));return t.lastIndex=e.lastIndex,t}var Tb=bb,Ua=Ce,Ha=Ua?Ua.prototype:void 0,Fa=Ha?Ha.valueOf:void 0;function Ob(e){return Fa?Object(Fa.call(e)):{}}var Sb=Ob,Db=Pn;function $b(e,t){var r=t?Db(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Eb=$b,wb=Pn,Cb=yb,Ib=Tb,Pb=Sb,Mb=Eb,xb="[object Boolean]",Ab="[object Date]",Nb="[object Map]",Rb="[object Number]",Lb="[object RegExp]",jb="[object Set]",Bb="[object String]",Ub="[object Symbol]",Hb="[object ArrayBuffer]",Fb="[object DataView]",kb="[object Float32Array]",Wb="[object Float64Array]",Gb="[object Int8Array]",qb="[object Int16Array]",zb="[object Int32Array]",Kb="[object Uint8Array]",Yb="[object Uint8ClampedArray]",Zb="[object Uint16Array]",Vb="[object Uint32Array]";function Xb(e,t,r){var n=e.constructor;switch(t){case Hb:return wb(e);case xb:case Ab:return new n(+e);case Fb:return Cb(e,r);case kb:case Wb:case Gb:case qb:case zb:case Kb:case Yb:case Zb:case Vb:return Mb(e,r);case Nb:return new n;case Rb:case Bb:return new n(e);case Lb:return Ib(e);case jb:return new n;case Ub:return Pb(e)}}var Jb=Xb,Qb=Q,ka=Object.create,eT=function(){function e(){}return function(t){if(!Qb(t))return{};if(ka)return ka(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),tT=eT,rT=tT,nT=ji,aT=Nt;function iT(e){return typeof e.constructor=="function"&&!aT(e)?rT(nT(e)):{}}var oT=iT,sT=Ye,uT=me,cT="[object Map]";function lT(e){return uT(e)&&sT(e)==cT}var fT=lT,dT=fT,pT=rn,Wa=nn,Ga=Wa&&Wa.isMap,gT=Ga?pT(Ga):dT,hT=gT,vT=Ye,mT=me,yT="[object Set]";function _T(e){return mT(e)&&vT(e)==yT}var bT=_T,TT=bT,OT=rn,qa=nn,za=qa&&qa.isSet,ST=za?OT(za):TT,DT=ST,$T=cn,ET=k0,wT=_n,CT=Z0,IT=Q0,PT=eb,MT=rb,xT=ob,AT=lb,NT=wi,RT=Ui,LT=Ye,jT=gb,BT=Jb,UT=oT,HT=X,FT=At,kT=hT,WT=Q,GT=DT,qT=ye,zT=bn,KT=1,YT=2,ZT=4,Po="[object Arguments]",VT="[object Array]",XT="[object Boolean]",JT="[object Date]",QT="[object Error]",Mo="[object Function]",eO="[object GeneratorFunction]",tO="[object Map]",rO="[object Number]",xo="[object Object]",nO="[object RegExp]",aO="[object Set]",iO="[object String]",oO="[object Symbol]",sO="[object WeakMap]",uO="[object ArrayBuffer]",cO="[object DataView]",lO="[object Float32Array]",fO="[object Float64Array]",dO="[object Int8Array]",pO="[object Int16Array]",gO="[object Int32Array]",hO="[object Uint8Array]",vO="[object Uint8ClampedArray]",mO="[object Uint16Array]",yO="[object Uint32Array]",I={};I[Po]=I[VT]=I[uO]=I[cO]=I[XT]=I[JT]=I[lO]=I[fO]=I[dO]=I[pO]=I[gO]=I[tO]=I[rO]=I[xo]=I[nO]=I[aO]=I[iO]=I[oO]=I[hO]=I[vO]=I[mO]=I[yO]=!0;I[QT]=I[Mo]=I[sO]=!1;function Tt(e,t,r,n,a,i){var o,s=t&KT,u=t&YT,c=t&ZT;if(r&&(o=a?r(e,n,a,i):r(e)),o!==void 0)return o;if(!WT(e))return e;var l=HT(e);if(l){if(o=jT(e),!s)return MT(e,o)}else{var f=LT(e),d=f==Mo||f==eO;if(FT(e))return PT(e,s);if(f==xo||f==Po||d&&!a){if(o=u||d?{}:UT(e),!s)return u?AT(e,IT(o,e)):xT(e,CT(o,e))}else{if(!I[f])return a?e:{};o=BT(e,f,s)}}i||(i=new $T);var g=i.get(e);if(g)return g;i.set(e,o),GT(e)?e.forEach(function(_){o.add(Tt(_,t,r,_,e,i))}):kT(e)&&e.forEach(function(_,T){o.set(T,Tt(_,t,r,T,e,i))});var p=c?u?RT:NT:u?zT:qT,h=l?void 0:p(e);return ET(h||e,function(_,T){h&&(T=_,_=e[T]),wT(o,T,Tt(_,t,r,T,e,i))}),o}var _O=Tt,bO=_O,TO=4;function OO(e){return bO(e,TO)}var SO=OO;(function(e){var t=y&&y.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.getAndAssertNodeAtPathExists=e.getNodeAtPath=e.getLeaves=e.getPathToCorner=e.getOtherDirection=e.getOtherBranch=e.createBalancedTreeFromLeaves=e.isParent=e.Corner=void 0;var r=t(SO),n=t(Ni);function a(p,h){if(h===void 0&&(h="row"),o(p)){var _=c(h);return{direction:h,first:a(p.first,_),second:a(p.second,_)}}else return p}var i;(function(p){p[p.TOP_LEFT=1]="TOP_LEFT",p[p.TOP_RIGHT=2]="TOP_RIGHT",p[p.BOTTOM_LEFT=3]="BOTTOM_LEFT",p[p.BOTTOM_RIGHT=4]="BOTTOM_RIGHT"})(i=e.Corner||(e.Corner={}));function o(p){return p.direction!=null}e.isParent=o;function s(p,h){if(h===void 0&&(h="row"),p.length===0)return null;for(var _=(0,r.default)(p),T=[];_.length>1;){for(;_.length>0;)_.length>1?T.push({direction:"row",first:_.shift(),second:_.shift()}):T.unshift(_.shift());_=T,T=[]}return a(_[0],h)}e.createBalancedTreeFromLeaves=s;function u(p){if(p==="first")return"second";if(p==="second")return"first";throw new Error("Branch '".concat(p,"' not a valid branch"))}e.getOtherBranch=u;function c(p){return p==="row"?"column":"row"}e.getOtherDirection=c;function l(p,h){for(var _=p,T=[];o(_);)_.direction==="row"&&(h===i.TOP_LEFT||h===i.BOTTOM_LEFT)||_.direction==="column"&&(h===i.TOP_LEFT||h===i.TOP_RIGHT)?(T.push("first"),_=_.first):(T.push("second"),_=_.second);return T}e.getPathToCorner=l;function f(p){return p==null?[]:o(p)?f(p.first).concat(f(p.second)):[p]}e.getLeaves=f;function d(p,h){return h.length>0?(0,n.default)(p,h,null):p}e.getNodeAtPath=d;function g(p,h){if(p==null)throw new Error("Root is empty, cannot fetch path");var _=d(p,h);if(_==null)throw new Error("Path [".concat(h.join(", "),"] did not resolve to a node"));return _}e.getAndAssertNodeAtPathExists=g})(Qe);var DO=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ct=y&&y.__assign||function(){return Ct=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ct.apply(this,arguments)},Ao=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(or,"__esModule",{value:!0});or.MosaicRoot=void 0;var $O=Ao(e0),gt=Ao(b),EO=R,wO=sr,Ir=In,CO=Qe,IO=function(e){DO(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.onResize=function(n,a,i){r.context.mosaicActions.updateTree([{path:a,spec:{splitPercentage:{$set:n}}}],i)},r}return t.prototype.render=function(){var r=this.props.root;return gt.default.createElement("div",{className:"mosaic-root"},this.renderRecursively(r,Ir.BoundingBox.empty(),[]))},t.prototype.renderRecursively=function(r,n,a){if((0,CO.isParent)(r)){var i=r.splitPercentage==null?50:r.splitPercentage,o=Ir.BoundingBox.split(n,i,r.direction),s=o.first,u=o.second;return(0,$O.default)([this.renderRecursively(r.first,s,a.concat("first")),this.renderSplit(r.direction,n,i,a),this.renderRecursively(r.second,u,a.concat("second"))].filter(PO))}else return gt.default.createElement("div",{key:r,className:"mosaic-tile",style:Ct({},Ir.BoundingBox.asStyles(n))},this.props.renderTile(r,a))},t.prototype.renderSplit=function(r,n,a,i){var o=this,s=this.props.resize;return s!=="DISABLED"?gt.default.createElement(wO.Split,Ct({key:i.join(",")+"splitter"},s,{boundingBox:n,splitPercentage:a,direction:r,onChange:function(u){return o.onResize(u,i,!0)},onRelease:function(u){return o.onResize(u,i,!1)}})):null},t.contextType=EO.MosaicContext,t}(gt.default.PureComponent);or.MosaicRoot=IO;function PO(e){return e!==null}var et={};function MO(){}var Mn=MO,ce={};function xO(e,t,r,n){var a=-1,i=e==null?0:e.length;for(n&&i&&(r=e[++a]);++a<i;)r=t(r,e[a],a,e);return r}var AO=xO;function NO(e){return function(t){return e==null?void 0:e[t]}}var RO=NO,LO=RO,jO={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},BO=LO(jO),UO=BO,HO=UO,FO=vn,kO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,WO="\\u0300-\\u036f",GO="\\ufe20-\\ufe2f",qO="\\u20d0-\\u20ff",zO=WO+GO+qO,KO="["+zO+"]",YO=RegExp(KO,"g");function ZO(e){return e=FO(e),e&&e.replace(kO,HO).replace(YO,"")}var VO=ZO,XO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function JO(e){return e.match(XO)||[]}var QO=JO,eS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function tS(e){return eS.test(e)}var rS=tS,No="\\ud800-\\udfff",nS="\\u0300-\\u036f",aS="\\ufe20-\\ufe2f",iS="\\u20d0-\\u20ff",oS=nS+aS+iS,Ro="\\u2700-\\u27bf",Lo="a-z\\xdf-\\xf6\\xf8-\\xff",sS="\\xac\\xb1\\xd7\\xf7",uS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cS="\\u2000-\\u206f",lS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jo="A-Z\\xc0-\\xd6\\xd8-\\xde",fS="\\ufe0e\\ufe0f",Bo=sS+uS+cS+lS,Uo="[']",Ka="["+Bo+"]",dS="["+oS+"]",Ho="\\d+",pS="["+Ro+"]",Fo="["+Lo+"]",ko="[^"+No+Bo+Ho+Ro+Lo+jo+"]",gS="\\ud83c[\\udffb-\\udfff]",hS="(?:"+dS+"|"+gS+")",vS="[^"+No+"]",Wo="(?:\\ud83c[\\udde6-\\uddff]){2}",Go="[\\ud800-\\udbff][\\udc00-\\udfff]",De="["+jo+"]",mS="\\u200d",Ya="(?:"+Fo+"|"+ko+")",yS="(?:"+De+"|"+ko+")",Za="(?:"+Uo+"(?:d|ll|m|re|s|t|ve))?",Va="(?:"+Uo+"(?:D|LL|M|RE|S|T|VE))?",qo=hS+"?",zo="["+fS+"]?",_S="(?:"+mS+"(?:"+[vS,Wo,Go].join("|")+")"+zo+qo+")*",bS="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",TS="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",OS=zo+qo+_S,SS="(?:"+[pS,Wo,Go].join("|")+")"+OS,DS=RegExp([De+"?"+Fo+"+"+Za+"(?="+[Ka,De,"$"].join("|")+")",yS+"+"+Va+"(?="+[Ka,De+Ya,"$"].join("|")+")",De+"?"+Ya+"+"+Za,De+"+"+Va,TS,bS,Ho,SS].join("|"),"g");function $S(e){return e.match(DS)||[]}var ES=$S,wS=QO,CS=rS,IS=vn,PS=ES;function MS(e,t,r){return e=IS(e),t=r?void 0:t,t===void 0?CS(e)?PS(e):wS(e):e.match(t)||[]}var xS=MS,AS=AO,NS=VO,RS=xS,LS="[']",jS=RegExp(LS,"g");function BS(e){return function(t){return AS(RS(NS(t).replace(jS,"")),e,"")}}var US=BS,HS=US,FS=HS(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),kS=FS;(function(e){var t=y&&y.__createBinding||(Object.create?function(c,l,f,d){d===void 0&&(d=f);var g=Object.getOwnPropertyDescriptor(l,f);(!g||("get"in g?!l.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(c,d,g)}:function(c,l,f,d){d===void 0&&(d=f),c[d]=l[f]}),r=y&&y.__setModuleDefault||(Object.create?function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}:function(c,l){c.default=l}),n=y&&y.__importStar||function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var f in c)f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)&&t(l,c,f);return r(l,c),l},a=y&&y.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalBlueprint=void 0;var i=a(V),o=a(kS),s=n(b),u=R;(function(c){c.Icon=function(d){var g=d.icon,p=d.className,h=d.size,_=h===void 0?"standard":h,T=s.useContext(u.MosaicContext).blueprintNamespace;return s.createElement("span",{className:(0,i.default)(p,f(T,g),"".concat(T,"-icon-").concat(_))})};function l(d){for(var g=[],p=1;p<arguments.length;p++)g[p-1]=arguments[p];return g.map(function(h){return"".concat(d,"-").concat((0,o.default)(h))}).join(" ")}c.getClasses=l;function f(d,g){return"".concat(d,"-icon-").concat((0,o.default)(g))}c.getIconClass=f})(e.OptionalBlueprint||(e.OptionalBlueprint={}))})(ce);var WS=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xn=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(et,"__esModule",{value:!0});et.MosaicZeroState=void 0;var Xa=xn(V),GS=xn(Mn),le=xn(b),qS=R,Se=ce,zS=function(e){WS(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.replace=function(){return Promise.resolve(r.props.createNode()).then(function(n){return r.context.mosaicActions.replaceWith([],n)}).catch(GS.default)},r}return t.prototype.render=function(){return le.default.createElement("div",{className:(0,Xa.default)("mosaic-zero-state",Se.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"NON_IDEAL_STATE"))},le.default.createElement("div",{className:Se.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"NON_IDEAL_STATE_VISUAL")},le.default.createElement(Se.OptionalBlueprint.Icon,{className:"default-zero-state-icon",size:"large",icon:"APPLICATIONS"})),le.default.createElement("h4",{className:Se.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"HEADING")},"No Windows Present"),le.default.createElement("div",null,this.props.createNode&&le.default.createElement("button",{className:(0,Xa.default)(Se.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"BUTTON"),Se.OptionalBlueprint.getIconClass(this.context.blueprintNamespace,"ADD")),onClick:this.replace},"Add New Window")))},t.contextType=qS.MosaicContext,t}(le.default.PureComponent);et.MosaicZeroState=zS;var Ko={},KS=hn;function YS(e,t){return KS(t,function(r){return e[r]})}var ZS=YS,VS=ZS,XS=ye;function JS(e){return e==null?[]:VS(e,XS(e))}var Yo=JS,Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.MosaicDropTargetPosition=void 0;Ne.MosaicDropTargetPosition={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"};var tt={},be={};Object.defineProperty(be,"__esModule",{value:!0});be.MosaicDragType=void 0;be.MosaicDragType={WINDOW:"MosaicWindow"};var QS=y&&y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eD=y&&y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tD=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&QS(t,e,r);return eD(t,e),t},rD=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tt,"__esModule",{value:!0});tt.MosaicDropTarget=void 0;var nD=rD(V),Ja=tD(b),aD=Kt,iD=R,oD=be;function sD(e){var t=e.path,r=e.position,n=(0,Ja.useContext)(iD.MosaicContext).mosaicId,a=(0,aD.useDrop)({accept:oD.MosaicDragType.WINDOW,drop:function(c,l){return n===(c==null?void 0:c.mosaicId)?{path:t,position:r}:{}},collect:function(c){return{isOver:c.isOver(),draggedMosaicId:(c.getItem()||{}).mosaicId}}}),i=a[0],o=i.isOver,s=i.draggedMosaicId,u=a[1];return Ja.default.createElement("div",{ref:u,className:(0,nD.default)("drop-target",r,{"drop-target-hover":o&&s===n})})}tt.MosaicDropTarget=sD;(function(e){var t=y&&y.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.RootDropTargets=void 0;var r=t(V),n=t(Yo),a=t(b),i=Kt,o=Ne,s=tt,u=be;e.RootDropTargets=a.default.memo(function(){var l=(0,i.useDrop)({accept:u.MosaicDragType.WINDOW,collect:function(d){return{isDragging:d.getItem()!==null&&d.getItemType()===u.MosaicDragType.WINDOW}}})[0].isDragging,f=c(l,0);return a.default.createElement("div",{className:(0,r.default)("drop-target-container",{"-dragging":f})},(0,n.default)(o.MosaicDropTargetPosition).map(function(d){return a.default.createElement(s.MosaicDropTarget,{position:d,path:[],key:d})}))}),e.RootDropTargets.displayName="RootDropTargets";function c(l,f){var d=a.default.useRef(l),g=a.default.useState(0),p=g[1],h=function(_){d.current=_,p(function(T){return T+1})};return l||(d.current=!1),a.default.useEffect(function(){if(!(d.current===l||!l)){var _=window.setTimeout(function(){return h(!0)},f);return function(){window.clearTimeout(_)}}},[l]),d.current}})(Ko);var H={},Yr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(v){return typeof v=="object"&&!("toString"in v)?Object.prototype.toString.call(v).slice(8,-1):v}var n=typeof process=="object"&&!0;function a(v,m){if(!v)throw n?new Error("Invariant failed"):new Error(m())}t.invariant=a;var i=Object.prototype.hasOwnProperty,o=Array.prototype.splice,s=Object.prototype.toString;function u(v){return s.call(v).slice(8,-1)}var c=Object.assign||function(v,m){return l(m).forEach(function($){i.call(m,$)&&(v[$]=m[$])}),v},l=typeof Object.getOwnPropertySymbols=="function"?function(v){return Object.keys(v).concat(Object.getOwnPropertySymbols(v))}:function(v){return Object.keys(v)};function f(v){return Array.isArray(v)?c(v.constructor(v.length),v):u(v)==="Map"?new Map(v):u(v)==="Set"?new Set(v):v&&typeof v=="object"?c(Object.create(Object.getPrototypeOf(v)),v):v}var d=function(){function v(){this.commands=c({},g),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(m,$){return m===$},this.update.newContext=function(){return new v().update}}return Object.defineProperty(v.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(m){this.update.isEquals=m},enumerable:!0,configurable:!0}),v.prototype.extend=function(m,$){this.commands[m]=$},v.prototype.update=function(m,$){var C=this,w=typeof $=="function"?{$apply:$}:$;Array.isArray(m)&&Array.isArray(w)||a(!Array.isArray(w),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),a(typeof w=="object"&&w!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(C.commands).join(", ")+".")});var A=m;return l(w).forEach(function(F){if(i.call(C.commands,F)){var cs=m===A;A=C.commands[F](w[F],A,w,m),cs&&C.isEquals(A,m)&&(A=m)}else{var ut=u(m)==="Map"?C.update(m.get(F),w[F]):C.update(m[F],w[F]),ls=u(A)==="Map"?A.get(F):A[F];(!C.isEquals(ut,ls)||typeof ut>"u"&&!i.call(m,F))&&(A===m&&(A=f(m)),u(A)==="Map"?A.set(F,ut):A[F]=ut)}}),A},v}();t.Context=d;var g={$push:function(v,m,$){return h(m,$,"$push"),v.length?m.concat(v):m},$unshift:function(v,m,$){return h(m,$,"$unshift"),v.length?v.concat(m):m},$splice:function(v,m,$,C){return T(m,$),v.forEach(function(w){E(w),m===C&&w.length&&(m=f(C)),o.apply(m,w)}),m},$set:function(v,m,$){return q($),v},$toggle:function(v,m){_(v,"$toggle");var $=v.length?f(m):m;return v.forEach(function(C){$[C]=!m[C]}),$},$unset:function(v,m,$,C){return _(v,"$unset"),v.forEach(function(w){Object.hasOwnProperty.call(m,w)&&(m===C&&(m=f(C)),delete m[w])}),m},$add:function(v,m,$,C){return P(m,"$add"),_(v,"$add"),u(m)==="Map"?v.forEach(function(w){var A=w[0],F=w[1];m===C&&m.get(A)!==F&&(m=f(C)),m.set(A,F)}):v.forEach(function(w){m===C&&!m.has(w)&&(m=f(C)),m.add(w)}),m},$remove:function(v,m,$,C){return P(m,"$remove"),_(v,"$remove"),v.forEach(function(w){m===C&&m.has(w)&&(m=f(C)),m.delete(w)}),m},$merge:function(v,m,$,C){return z(m,v),l(v).forEach(function(w){v[w]!==m[w]&&(m===C&&(m=f(C)),m[w]=v[w])}),m},$apply:function(v,m){return k(v),v(m)}},p=new d;t.isEquals=p.update.isEquals,t.extend=p.extend,t.default=p.update,t.default.default=e.exports=c(t.default,t);function h(v,m,$){a(Array.isArray(v),function(){return"update(): expected target of "+r($)+" to be an array; got "+r(v)+"."}),_(m[$],$)}function _(v,m){a(Array.isArray(v),function(){return"update(): expected spec of "+r(m)+" to be an array; got "+r(v)+". Did you forget to wrap your parameter in an array?"})}function T(v,m){a(Array.isArray(v),function(){return"Expected $splice target to be an array; got "+r(v)}),E(m.$splice)}function E(v){a(Array.isArray(v),function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(v)+". Did you forget to wrap your parameters in an array?"})}function k(v){a(typeof v=="function",function(){return"update(): expected spec of $apply to be a function; got "+r(v)+"."})}function q(v){a(Object.keys(v).length===1,function(){return"Cannot have more than one key in an object with $set"})}function z(v,m){a(m&&typeof m=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+r(m)}),a(v&&typeof v=="object",function(){return"update(): $merge expects a target of type 'object'; got "+r(v)})}function P(v,m){var $=u(v);a($==="Map"||$==="Set",function(){return"update(): "+r(m)+" expects a target of type Set or Map; got "+r($)})}})(Yr,Yr.exports);var uD=Yr.exports;function cD(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var An=cD,lD=Cn,Qa=1/0,fD=17976931348623157e292;function dD(e){if(!e)return e===0?e:0;if(e=lD(e),e===Qa||e===-Qa){var t=e<0?-1:1;return t*fD}return e===e?e:0}var pD=dD,gD=pD;function hD(e){var t=gD(e),r=t%1;return t===t?r?t-r:t:0}var Nn=hD,vD=An,mD=Nn;function yD(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:mD(t),vD(e,t<0?0:t,n)):[]}var _D=yD,bD=An,TD=Nn;function OD(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:TD(t),t=n-t,bD(e,0,t<0?0:t)):[]}var Zo=OD,SD=dn;function DD(e,t){return SD(e,t)}var Vo=DD;function $D(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ED=$D,wD=Li;function CD(e,t,r){return e==null?e:wD(e,t,r)}var ID=CD,PD=An,MD=Nn;function xD(e,t,r){return e&&e.length?(t=r||t===void 0?1:MD(t),PD(e,0,t<0?0:t)):[]}var AD=xD,Te=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(H,"__esModule",{value:!0});H.createExpandUpdate=H.createHideUpdate=H.createDragToUpdates=H.createRemoveUpdate=H.updateTree=H.buildSpecFromUpdate=void 0;var ND=Te(uD),RD=Te(_D),Xo=Te(Zo),LD=Te(Vo),Jo=Te(ED),jD=Te(ID),ei=Te(AD),ht=Ne,It=Qe;function Qo(e){return e.path.length>0?(0,jD.default)({},e.path,e.spec):e.spec}H.buildSpecFromUpdate=Qo;function es(e,t){var r=e;return t.forEach(function(n){r=(0,ND.default)(r,Qo(n))}),r}H.updateTree=es;function Zr(e,t){var r=(0,Xo.default)(t),n=(0,Jo.default)(t),a=r.concat((0,It.getOtherBranch)(n)),i=(0,It.getAndAssertNodeAtPathExists)(e,a);return{path:r,spec:{$set:i}}}H.createRemoveUpdate=Zr;function ti(e,t,r){return(0,LD.default)((0,ei.default)(e,r),(0,ei.default)(t,r))}function BD(e,t,r,n){var a=(0,It.getAndAssertNodeAtPathExists)(e,r),i=[],o=ti(t,r,r.length);if(o)a=es(a,[Zr(a,(0,RD.default)(t,r.length))]);else{i.push(Zr(e,t));var s=ti(t,r,t.length-1);s&&r.splice(t.length-1,1)}var u=(0,It.getAndAssertNodeAtPathExists)(e,t),c,l;n===ht.MosaicDropTargetPosition.LEFT||n===ht.MosaicDropTargetPosition.TOP?(c=u,l=a):(c=a,l=u);var f="column";return(n===ht.MosaicDropTargetPosition.LEFT||n===ht.MosaicDropTargetPosition.RIGHT)&&(f="row"),i.push({path:r,spec:{$set:{first:c,second:l,direction:f}}}),i}H.createDragToUpdates=BD;function UD(e){var t=(0,Xo.default)(e),r=(0,Jo.default)(e),n;return r==="first"?n=0:n=100,{path:t,spec:{splitPercentage:{$set:n}}}}H.createHideUpdate=UD;function HD(e,t){for(var r,n={},a=e.length-1;a>=0;a--){var i=e[a],o=i==="first"?t:100-t;n=(r={splitPercentage:{$set:o}},r[i]=n,r)}return{spec:n,path:[]}}H.createExpandUpdate=HD;var ts=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pt=y&&y.__assign||function(){return Pt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Pt.apply(this,arguments)},rt=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.Mosaic=Ee.MosaicWithoutDragDropContext=void 0;var FD=rt(V);rt(_v);rt(ye);rt(fm);var kD=Wm,te=rt(b),WD=Kt,GD=G_,qD=bo,zD=R,KD=or,YD=et,ZD=Ko,vt=H,VD=70;function Pr(e){return e.initialValue!=null}var rs=function(e){ts(t,e);function t(){var r=this,n;return r=e.apply(this,arguments)||this,r.state={currentNode:null,lastInitialValue:null,mosaicId:(n=r.props.mosaicId)!==null&&n!==void 0?n:(0,qD.v4)()},r.updateRoot=function(a,i){i===void 0&&(i=!1);var o=r.getRoot()||{};r.replaceRoot((0,vt.updateTree)(o,a),i)},r.replaceRoot=function(a,i){i===void 0&&(i=!1),r.props.onChange(a),!i&&r.props.onRelease&&r.props.onRelease(a),Pr(r.props)&&r.setState({currentNode:a})},r.actions={updateTree:r.updateRoot,remove:function(a){a.length===0?r.replaceRoot(null):r.updateRoot([(0,vt.createRemoveUpdate)(r.getRoot(),a)])},expand:function(a,i){return i===void 0&&(i=VD),r.updateRoot([(0,vt.createExpandUpdate)(a,i)])},getRoot:function(){return r.getRoot()},hide:function(a){return r.updateRoot([(0,vt.createHideUpdate)(a)])},replaceWith:function(a,i){return r.updateRoot([{path:a,spec:{$set:i}}])}},r.childContext={mosaicActions:r.actions,mosaicId:r.state.mosaicId,blueprintNamespace:r.props.blueprintNamespace},r}return t.getDerivedStateFromProps=function(r,n){return r.mosaicId&&(n.mosaicId,r.mosaicId),Pr(r)&&r.initialValue!==n.lastInitialValue?{lastInitialValue:r.initialValue,currentNode:r.initialValue}:null},t.prototype.render=function(){var r=this.props.className;return te.default.createElement(zD.MosaicContext.Provider,{value:this.childContext},te.default.createElement("div",{className:(0,FD.default)(r,"mosaic mosaic-drop-target")},this.renderTree(),te.default.createElement(ZD.RootDropTargets,null)))},t.prototype.getRoot=function(){return Pr(this.props)?this.state.currentNode:this.props.value},t.prototype.renderTree=function(){var r=this.getRoot();if(this.validateTree(r),r==null)return this.props.zeroStateView;var n=this.props,a=n.renderTile,i=n.resize;return te.default.createElement(KD.MosaicRoot,{root:r,renderTile:a,resize:i})},t.prototype.validateTree=function(r){},t.defaultProps={onChange:function(){},zeroStateView:te.default.createElement(YD.MosaicZeroState,null),className:"mosaic-blueprint-theme",blueprintNamespace:"bp3"},t}(te.default.PureComponent);Ee.MosaicWithoutDragDropContext=rs;var XD=function(e){ts(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){return te.default.createElement(WD.DndProvider,Pt({backend:GD.MultiBackend,options:kD.HTML5toTouch},this.props.dragAndDropManager&&{manager:this.props.dragAndDropManager}),te.default.createElement(rs,Pt({},this.props)))},t}(te.default.PureComponent);Ee.Mosaic=XD;var we={},JD="Expected a function";function QD(e,t,r){if(typeof e!="function")throw new TypeError(JD);return setTimeout(function(){e.apply(void 0,r)},t)}var e$=QD;function t$(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var r$=t$,n$=r$,ri=Math.max;function a$(e,t,r){return t=ri(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=ri(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),n$(e,this,s)}}var i$=a$;function o$(e){return function(){return e}}var s$=o$,u$=s$,ni=yi,c$=yn,l$=ni?function(e,t){return ni(e,"toString",{configurable:!0,enumerable:!1,value:u$(t),writable:!0})}:c$,f$=l$,d$=800,p$=16,g$=Date.now;function h$(e){var t=0,r=0;return function(){var n=g$(),a=p$-(n-r);if(r=n,a>0){if(++t>=d$)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var v$=h$,m$=f$,y$=v$,_$=y$(m$),b$=_$,T$=yn,O$=i$,S$=b$;function D$(e,t){return S$(O$(e,t,T$),e+"")}var $$=D$,E$=e$,w$=$$,C$=w$(function(e,t){return E$(e,1,t)}),I$=C$,P$=Oi,M$=Ye,x$=xt,A$=X,N$=Rt,R$=At,L$=Nt,j$=an,B$="[object Map]",U$="[object Set]",H$=Object.prototype,F$=H$.hasOwnProperty;function k$(e){if(e==null)return!0;if(N$(e)&&(A$(e)||typeof e=="string"||typeof e.splice=="function"||R$(e)||j$(e)||x$(e)))return!e.length;var t=M$(e);if(t==B$||t==U$)return!e.size;if(L$(e))return!P$(e).length;for(var r in e)if(F$.call(e,r))return!1;return!0}var W$=k$,he={},nt={},Re={};(function(e){var t=y&&y.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.createDefaultToolbarButton=e.DefaultToolbarButton=void 0;var r=t(V),n=t(b),a=R,i=ce,o=function(u){var c=u.title,l=u.className,f=u.onClick,d=u.text,g=n.default.useContext(a.MosaicContext).blueprintNamespace;return n.default.createElement("button",{title:c,onClick:f,className:(0,r.default)("mosaic-default-control",i.OptionalBlueprint.getClasses(g,"BUTTON","MINIMAL"),l)},d&&n.default.createElement("span",{className:"control-text"},d))};e.DefaultToolbarButton=o;var s=function(u,c,l,f){return n.default.createElement(e.DefaultToolbarButton,{title:u,className:c,onClick:l,text:f})};e.createDefaultToolbarButton=s})(Re);var G$=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ns=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nt,"__esModule",{value:!0});nt.ExpandButton=void 0;var q$=ns(V),Mr=ns(b),ai=R,z$=ce,K$=Re,Y$=function(e){G$(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){var r=this;return Mr.default.createElement(ai.MosaicContext.Consumer,null,function(n){var a=n.mosaicActions;return Mr.default.createElement(K$.DefaultToolbarButton,{title:"Expand",className:(0,q$.default)("expand-button",z$.OptionalBlueprint.getIconClass(r.context.blueprintNamespace,"MAXIMIZE")),onClick:r.createExpand(a)})})},t.prototype.createExpand=function(r){var n=this;return function(){r.expand(n.context.mosaicWindowActions.getPath()),n.props.onClick&&n.props.onClick()}},t.contextType=ai.MosaicWindowContext,t}(Mr.default.PureComponent);nt.ExpandButton=Y$;var at={},Z$=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),as=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(at,"__esModule",{value:!0});at.RemoveButton=void 0;var V$=as(V),xr=as(b),ii=R,X$=ce,J$=Re,Q$=function(e){Z$(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){var r=this;return xr.default.createElement(ii.MosaicContext.Consumer,null,function(n){var a=n.mosaicActions,i=n.blueprintNamespace;return xr.default.createElement(J$.DefaultToolbarButton,{title:"Close Window",className:(0,V$.default)("close-button",X$.OptionalBlueprint.getIconClass(i,"CROSS")),onClick:r.createRemove(a)})})},t.prototype.createRemove=function(r){var n=this;return function(){r.remove(n.context.mosaicWindowActions.getPath()),n.props.onClick&&n.props.onClick()}},t.contextType=ii.MosaicWindowContext,t}(xr.default.PureComponent);at.RemoveButton=Q$;var it={},eE=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rn=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(it,"__esModule",{value:!0});it.ReplaceButton=void 0;var tE=Rn(V),rE=Rn(Mn),oi=Rn(b),nE=R,aE=ce,iE=Re,oE=function(e){eE(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.replace=function(){r.context.mosaicWindowActions.replaceWithNew().then(function(){r.props.onClick&&r.props.onClick()}).catch(rE.default)},r}return t.prototype.render=function(){return oi.default.createElement(iE.DefaultToolbarButton,{title:"Replace Window",className:(0,tE.default)("replace-button",aE.OptionalBlueprint.getIconClass(this.context.blueprintNamespace,"EXCHANGE")),onClick:this.replace})},t.contextType=nE.MosaicWindowContext,t}(oi.default.PureComponent);it.ReplaceButton=oE;var ot={},sE=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ln=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ot,"__esModule",{value:!0});ot.SplitButton=void 0;var uE=Ln(V),cE=Ln(Mn),si=Ln(b),lE=R,fE=ce,dE=Re,pE=function(e){sE(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.split=function(){r.context.mosaicWindowActions.split().then(function(){r.props.onClick&&r.props.onClick()}).catch(cE.default)},r}return t.prototype.render=function(){return si.default.createElement(dE.DefaultToolbarButton,{title:"Split Window",className:(0,uE.default)("split-button",fE.OptionalBlueprint.getIconClass(this.context.blueprintNamespace,"ADD_COLUMN_RIGHT")),onClick:this.split})},t.contextType=lE.MosaicWindowContext,t}(si.default.PureComponent);ot.SplitButton=pE;var gE=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(he,"__esModule",{value:!0});he.DEFAULT_CONTROLS_WITHOUT_CREATION=he.DEFAULT_CONTROLS_WITH_CREATION=void 0;var ne=gE(b),is=nt,os=at,hE=it,vE=ot;he.DEFAULT_CONTROLS_WITH_CREATION=ne.default.Children.toArray([ne.default.createElement(hE.ReplaceButton,null),ne.default.createElement(vE.SplitButton,null),ne.default.createElement(is.ExpandButton,null),ne.default.createElement(os.RemoveButton,null)]);he.DEFAULT_CONTROLS_WITHOUT_CREATION=ne.default.Children.toArray([ne.default.createElement(is.ExpandButton,null),ne.default.createElement(os.RemoveButton,null)]);var st={},mE=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yE=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(st,"__esModule",{value:!0});st.Separator=void 0;var ui=yE(b),_E=function(e){mE(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){return ui.default.createElement("div",{className:"separator"})},t}(ui.default.PureComponent);st.Separator=_E;var ss=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mt=y&&y.__assign||function(){return Mt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Mt.apply(this,arguments)},bE=y&&y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),TE=y&&y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OE=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bE(t,e,r);return TE(t,e),t},Le=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(we,"__esModule",{value:!0});we.MosaicWindow=we.InternalMosaicWindow=void 0;var Ue=Le(V),SE=Le(I$),DE=Le(Zo),$E=Le(W$),EE=Le(Vo),wE=Le(Yo),M=OE(b),ci=Kt,li=he,CE=st,Vr=R,IE=Ne,PE=tt,fi=be,ME=H,xE=Qe,He=ce,us=function(e){ss(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={additionalControlsOpen:!1},r.rootElement=null,r.renderDropTarget=function(n){var a=r.props.path;return M.default.createElement(PE.MosaicDropTarget,{position:n,path:a,key:n})},r.split=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];r.checkCreateNode();var i=r.props,o=i.createNode,s=i.path,u=r.context.mosaicActions,c=u.getRoot(),l=r.rootElement.offsetWidth>r.rootElement.offsetHeight?"row":"column";return Promise.resolve(o.apply(void 0,n)).then(function(f){return u.replaceWith(s,{direction:l,second:f,first:(0,xE.getAndAssertNodeAtPathExists)(c,s)})})},r.swap=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];r.checkCreateNode();var i=r.context.mosaicActions,o=r.props,s=o.createNode,u=o.path;return Promise.resolve(s.apply(void 0,n)).then(function(c){return i.replaceWith(u,c)})},r.setAdditionalControlsOpen=function(n){var a,i,o=n==="toggle"?!r.state.additionalControlsOpen:n;r.setState({additionalControlsOpen:o}),(i=(a=r.props).onAdditionalControlsToggle)===null||i===void 0||i.call(a,o)},r.getPath=function(){return r.props.path},r.connectDragSource=function(n){var a=r.props.connectDragSource;return a(n)},r.childContext={blueprintNamespace:r.context.blueprintNamespace,mosaicWindowActions:{split:r.split,replaceWithNew:r.swap,setAdditionalControlsOpen:r.setAdditionalControlsOpen,getPath:r.getPath,connectDragSource:r.connectDragSource}},r}return t.prototype.render=function(){var r=this,n=this.props,a=n.className,i=n.isOver,o=n.renderPreview,s=n.additionalControls,u=n.connectDropTarget,c=n.connectDragPreview,l=n.draggedMosaicId,f=n.disableAdditionalControlsOverlay;return M.default.createElement(Vr.MosaicWindowContext.Provider,{value:this.childContext},u(M.default.createElement("div",{className:(0,Ue.default)("mosaic-window mosaic-drop-target",a,{"drop-target-hover":i&&l===this.context.mosaicId,"additional-controls-open":this.state.additionalControlsOpen}),ref:function(d){return r.rootElement=d}},this.renderToolbar(),M.default.createElement("div",{className:"mosaic-window-body"},this.props.children),!f&&M.default.createElement("div",{className:"mosaic-window-body-overlay",onClick:function(){r.setAdditionalControlsOpen(!1)}}),M.default.createElement("div",{className:"mosaic-window-additional-actions-bar"},s),c(o(this.props)),M.default.createElement("div",{className:"drop-target-container"},(0,wE.default)(IE.MosaicDropTargetPosition).map(this.renderDropTarget)))))},t.prototype.getToolbarControls=function(){var r=this.props,n=r.toolbarControls,a=r.createNode;return n||(a?li.DEFAULT_CONTROLS_WITH_CREATION:li.DEFAULT_CONTROLS_WITHOUT_CREATION)},t.prototype.renderToolbar=function(){var r,n=this,a=this.props,i=a.title,o=a.draggable,s=a.additionalControls,u=a.additionalControlButtonText,c=a.path,l=a.renderToolbar,f=this.state.additionalControlsOpen,d=this.getToolbarControls(),g=o&&c.length>0,p=g?this.props.connectDragSource:function(E){return E};if(l){var h=p(l(this.props,o));return M.default.createElement("div",{className:(0,Ue.default)("mosaic-window-toolbar",{draggable:g})},h)}var _=p(M.default.createElement("div",{title:i,className:"mosaic-window-title"},i)),T=!(0,$E.default)(s);return M.default.createElement("div",{className:(0,Ue.default)("mosaic-window-toolbar",{draggable:g})},_,M.default.createElement("div",{className:(0,Ue.default)("mosaic-window-controls",He.OptionalBlueprint.getClasses("BUTTON_GROUP"))},T&&M.default.createElement("button",{onClick:function(){return n.setAdditionalControlsOpen(!f)},className:(0,Ue.default)(He.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"BUTTON","MINIMAL"),He.OptionalBlueprint.getIconClass(this.context.blueprintNamespace,"MORE"),(r={},r[He.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"ACTIVE")]=f,r))},M.default.createElement("span",{className:"control-text"},u)),T&&M.default.createElement(CE.Separator,null),d))},t.prototype.checkCreateNode=function(){if(this.props.createNode==null)throw new Error("Operation invalid unless `createNode` is defined")},t.defaultProps={additionalControlButtonText:"More",draggable:!0,renderPreview:function(r){var n=r.title;return M.default.createElement("div",{className:"mosaic-preview"},M.default.createElement("div",{className:"mosaic-window-toolbar"},M.default.createElement("div",{className:"mosaic-window-title"},n)),M.default.createElement("div",{className:"mosaic-window-body"},M.default.createElement("h4",null,n),M.default.createElement(He.OptionalBlueprint.Icon,{className:"default-preview-icon",size:"large",icon:"APPLICATION"})))},renderToolbar:null},t.contextType=Vr.MosaicContext,t}(M.default.Component);we.InternalMosaicWindow=us;function AE(e){var t=(0,M.useContext)(Vr.MosaicContext),r=t.mosaicActions,n=t.mosaicId,a=(0,ci.useDrag)({type:fi.MosaicDragType.WINDOW,item:function(d){e.onDragStart&&e.onDragStart();var g=(0,SE.default)(function(){return r.hide(e.path)});return{mosaicId:n,hideTimer:g}},end:function(d,g){var p=d.hideTimer;window.clearTimeout(p);var h=e.path,_=g.getDropResult()||{},T=_.position,E=_.path;T!=null&&E!=null&&!(0,EE.default)(E,h)?(r.updateTree((0,ME.createDragToUpdates)(r.getRoot(),h,E,T)),e.onDragEnd&&e.onDragEnd("drop")):(r.updateTree([{path:(0,DE.default)(h),spec:{splitPercentage:{$set:void 0}}}]),e.onDragEnd&&e.onDragEnd("reset"))}}),i=a[1],o=a[2],s=(0,ci.useDrop)({accept:fi.MosaicDragType.WINDOW,collect:function(d){var g;return{isOver:d.isOver(),draggedMosaicId:(g=d.getItem())===null||g===void 0?void 0:g.mosaicId}}}),u=s[0],c=u.isOver,l=u.draggedMosaicId,f=s[1];return M.default.createElement(us,Mt({},e,{connectDragPreview:o,connectDragSource:i,connectDropTarget:f,isOver:c,draggedMosaicId:l}))}var NE=function(e){ss(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){return M.default.createElement(AE,Mt({},this.props))},t}(M.default.PureComponent);we.MosaicWindow=NE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_CONTROLS_WITHOUT_CREATION=e.DEFAULT_CONTROLS_WITH_CREATION=e.RemoveButton=e.SplitButton=e.ReplaceButton=e.ExpandButton=e.Separator=e.MosaicZeroState=e.DefaultToolbarButton=e.createDefaultToolbarButton=e.MosaicWindow=e.isParent=e.getPathToCorner=e.getOtherDirection=e.getOtherBranch=e.getNodeAtPath=e.getLeaves=e.getAndAssertNodeAtPathExists=e.Corner=e.createBalancedTreeFromLeaves=e.updateTree=e.createRemoveUpdate=e.createHideUpdate=e.createExpandUpdate=e.createDragToUpdates=e.buildSpecFromUpdate=e.MosaicWindowContext=e.MosaicContext=e.MosaicDragType=e.MosaicWithoutDragDropContext=e.Mosaic=void 0;/**
 * @license
 * Copyright 2019 Kevin Verdieck, originally developed at Palantir Technologies, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t=Ee;Object.defineProperty(e,"Mosaic",{enumerable:!0,get:function(){return t.Mosaic}}),Object.defineProperty(e,"MosaicWithoutDragDropContext",{enumerable:!0,get:function(){return t.MosaicWithoutDragDropContext}});var r=be;Object.defineProperty(e,"MosaicDragType",{enumerable:!0,get:function(){return r.MosaicDragType}});var n=R;Object.defineProperty(e,"MosaicContext",{enumerable:!0,get:function(){return n.MosaicContext}}),Object.defineProperty(e,"MosaicWindowContext",{enumerable:!0,get:function(){return n.MosaicWindowContext}});var a=H;Object.defineProperty(e,"buildSpecFromUpdate",{enumerable:!0,get:function(){return a.buildSpecFromUpdate}}),Object.defineProperty(e,"createDragToUpdates",{enumerable:!0,get:function(){return a.createDragToUpdates}}),Object.defineProperty(e,"createExpandUpdate",{enumerable:!0,get:function(){return a.createExpandUpdate}}),Object.defineProperty(e,"createHideUpdate",{enumerable:!0,get:function(){return a.createHideUpdate}}),Object.defineProperty(e,"createRemoveUpdate",{enumerable:!0,get:function(){return a.createRemoveUpdate}}),Object.defineProperty(e,"updateTree",{enumerable:!0,get:function(){return a.updateTree}});var i=Qe;Object.defineProperty(e,"createBalancedTreeFromLeaves",{enumerable:!0,get:function(){return i.createBalancedTreeFromLeaves}}),Object.defineProperty(e,"Corner",{enumerable:!0,get:function(){return i.Corner}}),Object.defineProperty(e,"getAndAssertNodeAtPathExists",{enumerable:!0,get:function(){return i.getAndAssertNodeAtPathExists}}),Object.defineProperty(e,"getLeaves",{enumerable:!0,get:function(){return i.getLeaves}}),Object.defineProperty(e,"getNodeAtPath",{enumerable:!0,get:function(){return i.getNodeAtPath}}),Object.defineProperty(e,"getOtherBranch",{enumerable:!0,get:function(){return i.getOtherBranch}}),Object.defineProperty(e,"getOtherDirection",{enumerable:!0,get:function(){return i.getOtherDirection}}),Object.defineProperty(e,"getPathToCorner",{enumerable:!0,get:function(){return i.getPathToCorner}}),Object.defineProperty(e,"isParent",{enumerable:!0,get:function(){return i.isParent}});var o=we;Object.defineProperty(e,"MosaicWindow",{enumerable:!0,get:function(){return o.MosaicWindow}});var s=Re;Object.defineProperty(e,"createDefaultToolbarButton",{enumerable:!0,get:function(){return s.createDefaultToolbarButton}}),Object.defineProperty(e,"DefaultToolbarButton",{enumerable:!0,get:function(){return s.DefaultToolbarButton}});var u=et;Object.defineProperty(e,"MosaicZeroState",{enumerable:!0,get:function(){return u.MosaicZeroState}});var c=st;Object.defineProperty(e,"Separator",{enumerable:!0,get:function(){return c.Separator}});var l=nt;Object.defineProperty(e,"ExpandButton",{enumerable:!0,get:function(){return l.ExpandButton}});var f=it;Object.defineProperty(e,"ReplaceButton",{enumerable:!0,get:function(){return f.ReplaceButton}});var d=ot;Object.defineProperty(e,"SplitButton",{enumerable:!0,get:function(){return d.SplitButton}});var g=at;Object.defineProperty(e,"RemoveButton",{enumerable:!0,get:function(){return g.RemoveButton}});var p=he;Object.defineProperty(e,"DEFAULT_CONTROLS_WITH_CREATION",{enumerable:!0,get:function(){return p.DEFAULT_CONTROLS_WITH_CREATION}}),Object.defineProperty(e,"DEFAULT_CONTROLS_WITHOUT_CREATION",{enumerable:!0,get:function(){return p.DEFAULT_CONTROLS_WITHOUT_CREATION}})})(Ar);function RE({time:e}){const[t,r]=b.useState(Bn().unix());return bs(()=>r(Bn().unix()),1e3),S.jsx("span",{children:e-t+"s"})}function di({pubkey:e}){const{isMuted:t,mute:r,unmute:n,expiration:a}=hs(e),{openModal:i}=vs();let o=null;return t?a===1/0?o=S.jsx(Fe,{onClick:n,children:"Unban"}):o=S.jsxs(Fe,{onClick:n,children:["Unmute (",S.jsx(RE,{time:a}),")"]}):o=S.jsxs(S.Fragment,{children:[S.jsx(Fe,{onClick:()=>i(e),children:"Mute"}),S.jsx(Fe,{onClick:r,children:"Ban"})]}),S.jsxs($e,{gap:"2",direction:"row",alignItems:"center",children:[!t&&S.jsx(ms,{pubkey:e,noProxy:!0,size:"sm"}),S.jsx(ys,{pubkey:e}),S.jsx(_s,{size:"sm",ml:"auto",children:o})]})}function LE({stream:e}){const t=pi(),{loader:r,timeline:n}=Jr(e),a=ds(t.pubkey),i=b.useMemo(()=>{const u=[];for(const c of n)u.includes(c.pubkey)||u.push(c.pubkey);return u},[n]),o=i.filter(u=>!jn(a,u)),s=i.filter(u=>jn(a,u));return S.jsxs($e,{flex:1,p:"2",gap:"2",display:"flex",overflowY:"auto",overflowX:"hidden",flexDirection:"column",children:[o.map(u=>S.jsx(di,{pubkey:u},u)),s.length>0&&S.jsxs(S.Fragment,{children:[S.jsx(ps,{size:"sm",children:"Muted"}),S.jsx(gs,{}),s.map(u=>S.jsx(di,{pubkey:u},u))]})]})}const jE=b.memo(LE);function BE({stream:e}){const{timeline:t}=Jr(e),r=t.filter(n=>!(e.starts&&n.created_at<e.starts||e.ends&&n.created_at>e.ends||n.kind!==Ts.Zap));return S.jsx($e,{flex:1,p:"2",gap:"2",overflowY:"auto",overflowX:"hidden",flexDirection:"column",children:r==null?void 0:r.map(n=>S.jsx(Ns,{zap:n,stream:e},n.id))})}const UE=b.memo(BE);function HE({stream:e}){const{loader:t}=Jr(e),r=b.useRef(null),n=Os(t);return S.jsx($e,{flex:1,direction:"column",overflow:"hidden",p:0,children:S.jsxs(Ss,{callback:n,root:r,children:[S.jsx(Rs,{ref:r,stream:e,flex:1,px:"4",py:"2",mb:"2"}),S.jsx(Ls,{stream:e,hideZapButton:!0})]})})}const FE=b.memo(HE);function kE({stream:e}){return S.jsx(js,{stream:e.streaming||e.recording,autoPlay:e.streaming?!0:void 0,poster:e.image,maxH:"50vh",muted:!0})}const WE=b.memo(kE),GE={direction:"row",first:{direction:"column",first:"video",second:"users",splitPercentage:40},second:{direction:"row",first:"zaps",second:"chat"},splitPercentage:33};function qE({stream:e}){const[t,r]=b.useState(GE),n={video:S.jsx(WE,{stream:e}),chat:S.jsx(FE,{stream:e}),users:S.jsx(jE,{stream:e}),zaps:S.jsx(UE,{stream:e})},a={video:"Stream",chat:"Stream Chat",users:"Users in chat",zaps:"Zaps"};return S.jsx(Ar.Mosaic,{className:"chakra-theme",renderTile:(i,o)=>S.jsx(Ar.MosaicWindow,{path:o,title:a[i],children:n[i]}),value:t,onChange:i=>r(i)})}function zE(){const e=$s(),t=pi(),r=Es(),{loader:n,timeline:a}=ws(t.pubkey+"-streams",r,[{authors:[t.pubkey],kinds:[Un]},{"#p":[t.pubkey],kinds:[Un]}]),i=As(a),[o,s]=b.useState();return S.jsxs($e,{direction:"column",w:"full",h:"full",children:[S.jsxs($e,{gap:"2",p:"2",pb:"0",children:[S.jsx(Fe,{onClick:()=>e(-1),leftIcon:S.jsx(Cs,{}),children:"Back"}),S.jsx(Is,{placeholder:"Select stream",value:o&&fr(o),onChange:u=>s(i.find(c=>fr(c)===u.target.value)),w:"lg",children:i.map(u=>S.jsxs("option",{value:fr(u),children:[u.title," (",u.status,")"]},Ps(u.event)))})]}),o&&S.jsx(Ms,{relays:o.relays??[],children:S.jsx(qE,{stream:o})})]})}function tw(){return S.jsx(Ds,{children:S.jsx(zE,{})})}export{tw as default};
//# sourceMappingURL=index-B1rVQPtd.js.map
