import Observable from "zen-observable";
/** Throttles an {@link Observable} */
export function throttle(source, interval) {
    return new Observable((observer) => {
        let lastEmissionTime = 0;
        let subscription = source.subscribe({
            next(value) {
                const currentTime = Date.now();
                if (currentTime - lastEmissionTime >= interval) {
                    lastEmissionTime = currentTime;
                    observer.next(value);
                }
            },
            error(err) {
                observer.error(err);
            },
            complete() {
                observer.complete();
            },
        });
        return () => subscription.unsubscribe();
    });
}
